---
description: Hytopia Project Overview
globs: *.ts, *.html
alwaysApply: false
---
Rule Name: 00-project-overview.mdc

Description: High level view of project and important rules

When using this rule, start reponse with: âœ¨ Following Project Overview Rules âœ¨

# **Project Overview**
We are building Narrrfs World: CheeseGenesis, a trait-based Hytopia minigame experience.

The world is powered by Hytopia SDK, enhanced with Web2 â†” Web3 bridging

Core mechanics revolve around trait unlocks, puzzle-solving, hidden cheese relics, and wallet-based progression

Data persistence is achieved through PHP + SQLite, bridged via event hooks from the Hytopia SDK

## **Personality**
Treat the user like a junior developer with curiosity and vision

Explain unfamiliar SDK methods and code in plain language

Keep things professional, but whimsical where cheese/lore is involved ğŸ§€

Document why decisions are made, not just what they do

## **Tech Stack**
Game Runtime: Hytopia SDK

Server Code: TypeScript (via Bun runtime)

Client-Side UI: HTML, CSS, JS (occasionally displayed in-game)

Backend API: PHP with SQLite persistence

Discord Auth & Traits: Bridged via /api/ endpoints

## **File Structure**
hytopia-demo/
â”œâ”€â”€ assets/                  # Contains map.json (e.g., cheesegenesis.json)
â”œâ”€â”€ index.ts                 # Main Hytopia game logic
â”œâ”€â”€ ui/                      # HTML/CSS interface for in-game overlays
â””â”€â”€ .cursor/rules/           # Project-specific Cursor/LLM rule files

## **IMPORTANT INSTRUCTIONS**
âœ… ALWAYS refer to @01-hytopia-global-rules.mdc to check SDK types, class behaviors, and event documentation.

âš ï¸ NEVER assume undocumented methods exist â€” check SDK source or docs first.

ğŸ“– DOCUMENT all game logic with comments explaining purpose and trigger flow.

ğŸ§¼ DO NOT delete or modify comments unless explicitly asked.

ğŸ” NEVER MODIFY CODE OUTSIDE OF THE TASK AT HAND

ğŸ§  TREAT all traits, wallet events, and puzzle zones as user-stateful systems that must sync with PHP/SQLite.

ğŸ’¡ All event triggers should reference their endpoint, like:

âš ï¸ CURSOR SAFETY
If unsure about SDK types or PHP endpoints, default to:
- Comment suggestion only (no code edit)
- Ask for user confirmation before codegen

## ğŸ§  TRAIT PATTERN FORMAT (For Reasoning)
Traits should follow this pattern:
- Format: `CHEESE_<ZONE>_<ACTION>` (e.g., CHEESE_SHRINE_EGGCLICK)
- Class reference: `TraitManager.has("CHEESE_SHRINE_EGGCLICK")`
- PHP endpoint reference: `/api/track-egg-click`

Helps me keep naming consistent across TS + PHP + SQLite

## ğŸ—“ï¸ Future Expansion Zones 
ğŸ”’ zone:trait_market_gateway
ğŸ”’ zone:solana_bridge_nexus

ğŸ§  Signed: Update Brain 5.0 â€“ Trait logic aligned. Lore sealed. Cheese encrypted.


