<!DOCTYPE html>
<html lang="en">
<head>
  <!-- ğŸŒ Meta Essentials -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Genesis 12.0 is live. Enter Narrrf's World: Web3, chaos, and cheese." />
  <meta name="author" content="Narrrf Team" />
  <meta name="robots" content="index, follow" />
  <meta name="keywords" content="Narrrf, Web3, NFT, traits, Bingo, Snake, $SPOINC, Hytopia, Lore, Puzzle" />
  <meta name="theme-color" content="#facc15" />
  <meta name="msapplication-TileColor" content="#facc15" />
  <meta name="msapplication-TileImage" content="img/favicon2.png" />

  <!-- ğŸš« Prevent Game Over and Rotate Device Alerts on Mobile -->
  <script>
    // Override any alert function that might show unwanted messages
    const originalAlert = window.alert;
    window.alert = function(message) {
      // Block any "game over" or "rotate device" related alerts
      if (typeof message === 'string') {
        const lowerMessage = message.toLowerCase();
        if (lowerMessage.includes('game over') || 
            lowerMessage.includes('rotate') || 
            lowerMessage.includes('device') ||
            lowerMessage.includes('orientation')) {
          console.log('Blocked unwanted alert:', message);
          return;
        }
      }
      // Allow other alerts to work normally
      return originalAlert.apply(this, arguments);
    };
  </script>

  <!-- ğŸ”— Title & Social Preview -->
  <title>ğŸ¯ Narrrf's World â€“ Genesis 12.0</title>
  <meta property="og:title" content="Narrrf's World â€“ Genesis 12.0" />
  <meta property="og:description" content="Play Bingo. Click cheese. Unlock traits. A cartoon Web3 universe." />
  <meta property="og:image" content="img/narrrfs_world_logo.png" />
  <meta property="og:url" content="https://narrrfs.world" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Narrrf's World â€“ Genesis 12.0" />
  <meta name="twitter:description" content="Join the Bingo vault and explore traits in Genesis 12.0." />
  <meta name="twitter:image" content="img/narrrfs_world_logo.png" />

  <!-- ğŸ§€ Favicon & Preloads -->
      <link rel="icon" href="img/favicon-phantom.png" type="image/png" />
  <link rel="shortcut icon" href="img/favicon-browser.png" type="image/png" />
  <link rel="preload" as="image" href="img/other-gamezone.png">
  <link rel="preload" as="audio" href="sounds/cheese-egg-click.wav">

  <!-- ğŸ¨ Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- ğŸ”— Discord Token of Render System -->
  <script src="discord-config.js"></script>

  <!-- âœ¨ UI Glow + Animation Styles -->
  <style>
@keyframes bounce-slow {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-10px); }
}
.animate-bounce-slow {
  animation: bounce-slow 3s ease-in-out infinite;
}

@keyframes glow-pulse {
  0%, 100% { filter: drop-shadow(0 0 10px #10ff88); }
  50% { filter: drop-shadow(0 0 25px #10ff88); }
}
.animate-glow-bottle {
  animation: glow-pulse 2.5s ease-in-out infinite;
}

    @keyframes labGlow {
      0% { transform: scale(1); opacity: 0.8; }
      100% { transform: scale(1.1); opacity: 1; }
    }
    .animate-glow { animation: labGlow 2s infinite; }

    :root {
      --primary-color: #f472b6;
      --secondary-color: #3b82f6;
    }

    /* ğŸ¥š Final Easter Egg Glow */
    .egg-flash {
      animation: eggFlash 1.5s ease-in-out infinite;
    }
    @keyframes eggFlash {
      0%, 100% { box-shadow: 0 0 12px #fde68a; }
      50% { box-shadow: 0 0 22px #facc15; }
    }

    @keyframes fade-in { from { opacity: 0; } to { opacity: 1; } }
    .animate-fade-in { animation: fade-in 0.8s ease-out forwards; }

    .soft-glow {
      box-shadow: 0 0 12px rgba(255, 255, 255, 0.2), 0 0 20px rgba(255, 192, 203, 0.3);
    }

    @keyframes fade-in-body { to { opacity: 1; } }
    .animate-fade-in-body { animation: fade-in-body 0.5s ease-out forwards; }
@keyframes bubble1 { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-6px); } }
@keyframes bubble2 { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
@keyframes bubble3 { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-8px); } }

.animate-bubble1 { animation: bubble1 2.5s ease-in-out infinite; }
.animate-bubble2 { animation: bubble2 3.5s ease-in-out infinite 0.5s; }
.animate-bubble3 { animation: bubble3 4s ease-in-out infinite 1s; }
.animate-glow,
.animate-bubble1,
.animate-bubble2,
.animate-bubble3 {
  transform: translateZ(0);
}
@keyframes scaleIn {
  0% {
    transform: scale(0.7);
    opacity: 0;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}
.animate-scaleIn {
  animation: scaleIn 0.6s ease-out forwards;
}

  </style>

  <!-- ğŸ›‘ No JS fallback -->
  <noscript>
    <style>
      #cheese-egg, #cheese-egg-blue, #cheese-egg-finance {
        display: none !important;
      }
    </style>
  </noscript>
</head>

<body class="bg-gradient-to-br from-purple-50 via-pink-100 to-yellow-50 text-gray-900 font-sans min-h-screen opacity-0 animate-fade-in-body">

<!-- 
ğŸ§ª LAB NOTE: INDEX.HTML â€” Genesis 12.0 Certified
------------------------------------------------------------
ğŸŒ Portal entry to Narrrf's World: traits, games, bingo, wallet roles

ğŸ§  Cheese Egg Engine v1.4.1 (client-only click tracking)

ğŸ“Œ Future:
- Add egg click tracking to backend
- Connect to trait gate / puzzle unlock
-->

<!-- ğŸ”Š Preloaded Audio -->
<audio id="cheese-click-audio" src="sounds/cheese-egg-click.wav" preload="auto"></audio>

<!-- ğŸ§  Cheese Egg Logic -->
<script>
  const MOVE_INTERVAL = 6000;
  const CHEESE_SIZE = 40;
  const cheeseClickSound = document.getElementById('cheese-click-audio');
  if (cheeseClickSound) cheeseClickSound.volume = 0.8;

  if (!window.fetch) {
    console.warn("âŒ Fetch not supported â€” egg tracking skipped.");
    return;
  }

  function moveEgg(id, parentId) {
    const egg = document.getElementById(id);
    const parent = document.getElementById(parentId);
    if (!egg || !parent) return;

    const maxLeft = parent.clientWidth - CHEESE_SIZE;
    const maxTop = parent.clientHeight - CHEESE_SIZE;
    const left = Math.floor(Math.random() * maxLeft);
    const top = Math.floor(Math.random() * maxTop);

    egg.style.position = 'absolute';
    egg.style.left = `${left}px`;
    egg.style.top = `${top}px`;
  }

  window.addEventListener('DOMContentLoaded', () => {
    const roadmap = document.getElementById("roadmap");
    if (!roadmap) return;

    const eggIds = ['cheese-egg', 'cheese-egg-finance', 'cheese-egg-blue'];

    eggIds.forEach((id, index) => {
      const delay = 500 + Math.random() * 1000;
      const interval = 4000 + Math.floor(Math.random() * 4000);

      setTimeout(() => {
        moveEgg(id, 'roadmap');
        setInterval(() => moveEgg(id, 'roadmap'), interval);
      }, delay + index * 200);

      const egg = document.getElementById(id);
      if (egg) {
        egg.addEventListener('click', () => {
          if (cheeseClickSound) cheeseClickSound.play();
          const currentUserWallet = localStorage.getItem('walletAddress') || 'unknown';
          fetch('https://narrrfs.world/api/track-egg-click', {
            method: 'POST',
            body: JSON.stringify({
              user_wallet: currentUserWallet,
              egg_id: id,
              timestamp: Date.now()
            }),
            headers: { 'Content-Type': 'application/json' }
          });
        });

        egg.style.position = 'absolute';
      }
    });
  });
</script>
<!-- âœ… End Cheese Engine -->
<!-- ğŸ§€ Cheese Eggs (inside #roadmap!) -->
<!-- âœ… Must be placed inside <section id="roadmap" class="relative"> -->

<!-- ğŸ¯ Genesis 12.0 Live Banner -->
<div class="fixed top-0 left-0 w-full bg-yellow-400 text-yellow-900 text-sm text-center py-2 px-4 font-semibold shadow-md z-50 animate-pulse">
  ğŸ¯ Genesis 12.0 is live! â†’ <a href="/profile.html" class="underline hover:text-pink-600">Login and find the cheese</a> ğŸ°
</div>

<!-- â« Spacer to offset fixed banner height -->
<div class="h-10"></div>

<!-- ğŸ§­ Sticky Navigation Bar -->
<header class="bg-black text-white py-3 px-6 shadow-md sticky top-10 z-40 w-full">
  <div class="max-w-6xl mx-auto flex justify-between items-center">
    <a href="index.html" class="text-xl font-bold tracking-tight">ğŸ§  Narrrf's World</a>
    <nav class="space-x-3 text-sm md:text-base flex items-center flex-wrap justify-end">
      <a href="index.html" class="text-pink-400 font-semibold">Home</a>
      <a href="mint.html" class="hover:text-pink-400">Mint</a>
      <a href="whitepaper.html" class="hover:text-pink-400">Whitepaper</a>
      <a href="get-roles.html" class="hover:text-pink-400">Get Roles</a>
      <a href="project-updates.html" class="hover:text-pink-400">Updates</a>
      <a href="faq.html" class="hover:text-pink-400">FAQ</a>
      <button id="connect-wallet-btn" onclick="connectWallet()" class="ml-2 mt-2 md:mt-0 bg-purple-600 hover:bg-purple-700 text-white font-semibold py-1 px-4 rounded-xl shadow text-xs">
        ğŸ”Œ Connect
      </button>
      <img id="user-avatar" src="img/cheese.png" alt="PFP" class="hidden w-8 h-8 rounded-full border-2 border-white ml-2 shadow-lg" />
      <button id="wallet-disconnect" onclick="disconnectWallet()" class="hidden ml-2 text-sm bg-red-500 hover:bg-red-600 text-white rounded-full px-3 py-1 shadow">
        âŒ
      </button>
    </nav>
  </div>
</header>

<!-- ğŸ® Bingo CTA -->
<div class="bg-black text-center py-3 z-30 relative">
  <a href="/Bingo.html"
     class="inline-block bg-yellow-400 hover:bg-yellow-500 text-black text-lg md:text-xl font-bold px-6 py-3 rounded-full shadow-lg animate-pulse transition">
    ğŸ§€ Use Narrrf's Golden Bingo Vault Now!
  </a>
</div>

<!-- ğŸ¨ Hero Section: Game Zone + Bottle -->
<section class="relative z-10 pt-16 pb-20 bg-gradient-to-br from-pink-100 via-fuchsia-200 to-yellow-100 overflow-hidden border-b-4 border-yellow-300 shadow-inner">

  <!-- ğŸ’« Animated Background Decorations -->
  <div class="absolute inset-0 bg-[radial-gradient(ellipse_at_top_left,_var(--tw-gradient-stops))] from-lime-200 via-pink-100 to-transparent opacity-15 animate-pulse pointer-events-none"></div>
  <div class="absolute bottom-0 left-0 w-32 h-32 bg-green-300 rounded-full blur-2xl opacity-20 animate-bounce-slow pointer-events-none"></div>
  <div class="absolute top-10 right-10 w-24 h-24 bg-yellow-300 rounded-full blur-xl opacity-25 animate-bounce-slow pointer-events-none" style="animation-delay: 1s;"></div>
  <div class="absolute top-1/3 left-1/4 w-16 h-16 bg-pink-300 rounded-full blur-lg opacity-20 animate-bounce-slow pointer-events-none" style="animation-delay: 2s;"></div>

  <!-- ğŸ® Game Card + Bottle Art -->
  <div class="max-w-6xl mx-auto flex flex-col md:flex-row items-center justify-center gap-10 px-6 relative z-10">

    <!-- ğŸ§  Game Card -->
    <div class="relative z-20 text-center py-6 px-4 bg-gradient-to-r from-yellow-300 via-pink-500 to-purple-600 shadow-lg rounded-xl hover:scale-105 transition-transform duration-300 w-full md:w-1/2">
      <a href="/profile.html">
        <img src="img/other-gamezone.png" alt="Arcade Mouse Portal"
             class="mx-auto w-20 md:w-24 mb-4 drop-shadow-lg rounded-lg opacity-0 animate-fade-in" />
        <h2 class="text-3xl md:text-4xl font-extrabold text-black uppercase tracking-widest mb-1">
          Enter the Game Zone
        </h2>
        <p class="text-sm text-white italic">
          ğŸ† Play Tetris + Snake Â· Save Score Â· Unlock Traits!
        </p>
      </a>
    </div>

<!-- ğŸ§ª Glowing Brain Bottle -->
<div class="relative animate-bounce-slow mx-auto md:mx-0">
  <img src="img/lab-bottle4.png"
       alt="Glowing Bottle from Narrrf's Lab"
       class="w-24 md:w-36 rotate-[8deg] animate-glow-bottle" />
  <div class="absolute top-0 left-0 w-full h-full pointer-events-none">
    <div class="absolute w-3 h-3 bg-green-400 rounded-full blur-md animate-bubble1"></div>
    <div class="absolute w-4 h-4 bg-green-300 rounded-full blur-sm animate-bubble2"></div>
    <div class="absolute w-2.5 h-2.5 bg-lime-400 rounded-full blur-lg animate-bubble3"></div>
  </div>
</div>

</section>


<!-- ğŸ’¬ Hero Copy + CTAs -->
<div class="text-center max-w-xl mx-auto mt-10 relative z-10">
  <h1 class="text-4xl md:text-5xl font-extrabold mb-4 text-gray-900 drop-shadow-lg">
    Narrrf's World â€“ Genesis 12.0
  </h1>
  <p class="text-base md:text-lg text-gray-800">
    Let's leave the matrix... and take over Web3. A cartoon-chaotic Web3 universe powered by NFTs, poker, and pure community.
  </p>

  <!-- ğŸ“œ Genesis Whitepaper Button (Standalone) -->
  <div class="text-center mt-6 px-6">
    <a href="whitepaper-pro.html"
       class="inline-block bg-gray-900 text-yellow-300 font-bold px-6 py-3 rounded-full shadow-md hover:bg-yellow-500 hover:text-black transition">
      ğŸ“œ View the Genesis Whitepaper
    </a>
    <p class="text-xs text-gray-500 italic mt-2">
      Strategic scroll plan Â· Phase 5 trait systems Â· Genesis lore encoded
    </p>
  </div>

  <!-- ğŸ¯ CTA Button Row -->
  <div class="mt-6 mb-4 flex flex-col sm:flex-row gap-3 flex-wrap justify-center">
    <!-- ğŸ” Login with Discord -->
    <a href="https://discord.com/oauth2/authorize?client_id=1357927342265204858&response_type=code&redirect_uri=https%3A%2F%2Fnarrrfs.world%2Fapi%2Fauth%2Fcallback.php&scope=identify+guilds+guilds.members.read"
       class="bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-6 rounded-full shadow transition">
      ğŸ” Login with Discord
    </a>

    <!-- ğŸ’¬ Join Discord -->
                    <a href="https://discord.gg/rHc4Jg5Q" target="_blank"
       class="bg-pink-600 hover:bg-pink-700 text-white font-semibold py-2 px-6 rounded-full shadow transition">
      ğŸ’¬ Join Discord
    </a>

    <!-- ğŸ§¬ Mint Now -->
    <a href="mint.html"
       class="bg-white border border-pink-600 text-pink-600 font-semibold py-2 px-6 rounded-full shadow hover:bg-pink-50 transition">
      ğŸ§¬ Mint Now
    </a>
  </div>
</div>



<!-- âœ… Cleanly closes hero section visual layout -->

<!-- âœ… Promo Section: VIP collection + MP4 + CTA -->

<section class="relative py-32 px-6 bg-gradient-to-br from-yellow-100 via-pink-50 to-white text-center shadow-inner border-t-4 border-yellow-300">
  <h2 class="text-3xl md:text-4xl font-extrabold text-gray-900 mb-6">
    ğŸ”¥ Genesis VIP Collection â€” Proud of Our Holders!
  </h2>

  <p class="text-md md:text-lg text-gray-700 max-w-xl mx-auto mb-4">
    A massive shoutout to our early VIPs who believed in the cheese. ğŸ§ ğŸ§€  
    The mint is near â€” and those who held, held strong. We see you. We thank you.
  </p>



<!-- ğŸ§¬ Cheese Lab Countdown â€“ Linked to Mint -->
<a href="mint.html"
   class="my-16 mx-auto w-fit px-8 py-4 rounded-full border-3 border-yellow-300 bg-yellow-100 text-yellow-900 font-bold text-lg shadow-xl animate-bounce-slow ring-2 ring-yellow-200 ring-offset-2 flex items-center gap-4 hover:bg-yellow-200 transition-all duration-200 transform hover:scale-105">
  <span class="text-2xl">ğŸ§¬</span>
  <span class="whitespace-nowrap">
    Whitelist Mint starts in <span id="countdown-timer" class="text-pink-700 font-extrabold tracking-wide text-xl">...</span>
  </span>
</a>

  <p class="text-md md:text-lg text-gray-700 max-w-xl mx-auto mb-4">
    Our VIP cheese has already hit the market. You're looking at a  
<span class="font-bold text-pink-600 underline underline-offset-4 decoration-yellow-400">
  â³ 10 SOL floor â€” untouched since mint
</span>  
on Magic Eden.  
The next wave is close â€” don't miss the real Genesis scroll.
  </p>

  <!-- ğŸ¯ Magic Eden CTA -->
  <div class="my-12">
    <a href="https://magiceden.io/marketplace/narrrf_genesis_vip_drop" target="_blank"
       class="inline-block bg-black text-yellow-300 font-extrabold px-8 py-4 rounded-full shadow-xl hover:bg-yellow-300 hover:text-black transition duration-300 animate-pulse transform hover:scale-105">
      ğŸ§€ View VIP Collection on Magic Eden â†’
    </a>
  </div>

  <!-- ğŸ¥ MP4 Promo -->
  <video autoplay muted loop playsinline class="mx-auto rounded-xl shadow-lg max-w-[90%] md:max-w-2xl border-4 border-yellow-400 my-12">
    <source src="videos/genesis-vip-promo.mp4" type="video/mp4" />
    Your browser does not support the video tag.
  </video>

  
 <!-- ğŸ§  VIP Art Download Promo -->
<div class="mt-16 bg-yellow-50 border-2 border-yellow-300 rounded-xl px-6 py-5 shadow-md max-w-2xl mx-auto text-center">
  <h3 class="text-xl font-bold text-yellow-800 mb-2">ğŸ VIP Art Drop â€” Ultra HD Now Available!</h3>
  <p class="text-gray-700 text-sm md:text-base mb-4">
    Hold a VIP pass? Grab your exclusive <strong>22MB Full HD</strong> NFT artwork now.
    Just log in and head to your profile to unlock it.
  </p>
  <a href="profile.html"
     class="inline-block bg-pink-600 hover:bg-pink-700 text-white font-bold py-2 px-6 rounded-full shadow-md transition duration-300">
    ğŸ§¬ Check if You're VIP â†’
  </a>
</div>

<!-- ğŸ§¬ Cheese Lab Whitelist Countdown Script-->
<script>
function updateCountdown() {
  const countdownEl = document.getElementById("countdown-timer");
  const targetDate = new Date("2025-08-01T00:00:00Z"); // UTC midnight Aug 1

  const now = new Date();
  const diff = targetDate - now;

  if (diff <= 0) {
    countdownEl.innerText = "âœ… Now Open!";
    return;
  }

  const days = Math.floor(diff / (1000 * 60 * 60 * 24));
  const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
  const mins = Math.floor((diff / (1000 * 60)) % 60);
  const secs = Math.floor((diff / 1000) % 60);

  countdownEl.innerText = `${days}d ${hours}h ${mins}m ${secs}s`;
}
setInterval(updateCountdown, 1000);
updateCountdown();
</script>

</section>

<!-- âœ… END Promo Section: VIP collection + MP4 + CTA -->

<!-- ğŸ§¬ NFT Visual Carousel Promo | From experiment-x.html | Genesis 11.0 -->
<!-- ğŸ§¬ NFT Visual Carousel Promo | From experiment-x.html | Genesis 11.0 -->
<!-- ğŸ§¬ Narrrf Dual Mode Visual Lab Section -->
<section class="max-w-6xl mx-auto px-6 py-32 text-center z-10 relative">

  <!-- ğŸ›ï¸ Slider Toggle Controls -->
  <div class="flex justify-center gap-6 mb-10">
    <button onclick="toggleSliderMode('exp')" class="bg-gradient-to-r from-yellow-300 to-yellow-400 hover:from-yellow-400 hover:to-yellow-500 text-black font-bold px-6 py-3 rounded-full shadow-lg transition-all duration-300 border-2 border-yellow-500 hover:border-yellow-600 transform hover:scale-105">
      ğŸ§ª Experiment Mode
    </button>
    <button onclick="toggleSliderMode('art')" class="bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-bold px-6 py-3 rounded-full shadow-lg transition-all duration-300 border-2 border-purple-400 hover:border-purple-500 transform hover:scale-105">
      ğŸ§€ HDR Cheese Gallery
    </button>
  </div>

  <!-- ğŸ§ª Carousel Mode -->
  <div id="carousel-zone" class="block">
    <div id="carousel-images" class="overflow-hidden rounded-xl shadow-lg bg-white cursor-grab select-none" style="touch-action: pan-y pinch-zoom;">
      <!-- JS injects 81 carusel images -->
    </div>
    <div class="flex justify-between items-center mt-4">
      <button onclick="showSlide(-1)" class="bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white px-6 py-3 rounded-full shadow-lg transition-all duration-300 font-bold border-2 border-pink-400 hover:border-pink-500 transform hover:scale-105">â† Previous</button>
      <button onclick="showSlide(1)" class="bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white px-6 py-3 rounded-full shadow-lg transition-all duration-300 font-bold border-2 border-purple-400 hover:border-purple-500 transform hover:scale-105">Next â†’</button>
    </div>
                        <p class="text-xs text-gray-600 text-center mt-3 font-semibold">ğŸ§€ Swipe left/right or drag to navigate the cheese</p>
  </div>

<!-- ğŸ¨ HDR IPFS ART GALLERY -->
<div id="art-mode-slider" class="hidden mt-10">
  <!-- ğŸ§€ Gallery Header with Cheese Stats -->
  <div class="text-center mb-8">
    <h3 class="text-3xl md:text-4xl font-extrabold bg-gradient-to-r from-yellow-600 via-pink-600 to-purple-600 bg-clip-text text-transparent mb-2">
      ğŸ§€ Ultra HD Cheese Gallery
    </h3>
    <p class="text-gray-600 text-lg font-semibold">
      <span class="text-yellow-600">151</span> pieces of digital cheese art â€¢ <span class="text-pink-600">IPFS</span> powered â€¢ <span class="text-purple-600">4K</span> quality
    </p>
  </div>
  
  <!-- ğŸ¨ Enhanced Gallery Container -->
  <div id="hdr-grid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6 p-8 justify-center items-start bg-gradient-to-br from-yellow-50 via-pink-50 to-purple-50 rounded-3xl border-4 border-yellow-300 shadow-2xl relative overflow-hidden">
    <!-- ğŸ§€ Animated Background Decorations -->
    <div class="absolute inset-0 bg-[radial-gradient(ellipse_at_top_left,_var(--tw-gradient-stops))] from-yellow-200 via-pink-200 to-transparent opacity-20 animate-pulse pointer-events-none"></div>
    <div class="absolute top-4 right-4 w-16 h-16 bg-yellow-300 rounded-full blur-xl opacity-30 animate-bounce-slow pointer-events-none"></div>
    <div class="absolute bottom-4 left-4 w-12 h-12 bg-pink-300 rounded-full blur-lg opacity-25 animate-bounce-slow pointer-events-none" style="animation-delay: 1s;"></div>
    <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-20 h-20 bg-purple-300 rounded-full blur-2xl opacity-20 animate-bounce-slow pointer-events-none" style="animation-delay: 2s;"></div>
    
    <!-- Images loaded dynamically via JavaScript -->
  </div>
  
  <!-- ğŸ§€ Enhanced Load More Section -->
  <div class="text-center mt-8">
    <div class="bg-gradient-to-r from-yellow-100 to-pink-100 rounded-2xl p-6 border-2 border-yellow-300 shadow-lg">
      <button id="load-more-hdr" onclick="loadMoreHDRImages()" class="bg-gradient-to-r from-yellow-400 to-pink-500 hover:from-yellow-500 hover:to-pink-600 text-white px-10 py-4 rounded-full shadow-xl transition-all duration-300 font-bold text-xl border-4 border-yellow-300 hover:border-yellow-400 transform hover:scale-105 hover:shadow-2xl">
        ğŸ§€ Load More Cheese
      </button>
      <p class="text-gray-600 text-sm mt-3 font-semibold">
        Click to discover more cheesy masterpieces! ğŸ¨âœ¨
      </p>
    </div>
  </div>
</div>

<!-- ğŸ–¼ï¸ HDR Fullscreen Viewer -->
<div id="hdrFullscreen" class="hidden fixed inset-0 bg-black bg-opacity-95 z-50 flex flex-col items-center justify-center transition-all duration-300 cursor-grab" style="touch-action: pan-x pan-y; -webkit-user-select: none; -webkit-touch-callout: none;">
                              <!-- âŒ Exit Button -->
                      <button onclick="closeHDR()" class="absolute bottom-4 left-2 md:bottom-6 md:left-4 text-white bg-gradient-to-r from-red-500 to-pink-600 hover:from-red-600 hover:to-pink-700 px-2 py-1 md:px-4 md:py-2 lg:px-6 lg:py-3 rounded-full shadow-lg text-xs md:text-sm z-50 transition-all duration-300 font-bold border-2 border-red-400 hover:border-red-500 transform hover:scale-105">
                        ğŸ§€ Exit
                      </button>
                      
                      <!-- ğŸ“± Horizontal Mode Button -->
                      <button onclick="forceHorizontalMode()" class="absolute bottom-4 left-16 md:bottom-6 md:left-32 lg:left-48 text-white bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 px-2 py-1 md:px-4 md:py-2 lg:px-6 lg:py-3 rounded-full shadow-lg text-xs md:text-sm z-50 transition-all duration-300 font-bold border-2 border-blue-400 hover:border-blue-500 transform hover:scale-105">
                        ğŸ“± Horizontal
                      </button>

  <!-- ğŸ–¼ï¸ Fullscreen Image - Maximized for full screen -->
  <img id="hdrImage" src="" alt="HDR Art" class="w-full h-full object-contain animate-scaleIn" />



  <!-- â¬…ï¸â¡ï¸ Navigation Controls -->
  <div class="absolute bottom-4 md:bottom-6 left-1/2 transform -translate-x-1/2 flex flex-col items-center gap-1 md:gap-2">
    <div class="flex gap-2 md:gap-4">
      <button onclick="navigateHDR(-1)" class="bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white px-3 py-1 md:px-6 md:py-3 rounded-full shadow-lg transition-all duration-300 text-sm md:text-lg font-bold border-2 border-pink-400 hover:border-pink-500 transform hover:scale-105">â† Prev</button>
      <button onclick="navigateHDR(1)" class="bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white px-3 py-1 md:px-6 md:py-3 rounded-full shadow-lg transition-all duration-300 text-sm md:text-lg font-bold border-2 border-purple-400 hover:border-purple-500 transform hover:scale-105">Next â†’</button>
    </div>
            <p class="text-xs text-gray-500 text-center font-semibold">ğŸ§€ Swipe left/right or drag to navigate â€¢ ESC to close</p>
  </div>
</div>


  <!-- ğŸŒ What is Narrrf's World -->
<section class="bg-gradient-to-br from-yellow-50 via-pink-50 to-purple-50 py-32 px-6 relative overflow-hidden">
  <!-- ğŸ§€ Animated Background Decorations -->
  <div class="absolute inset-0 bg-[radial-gradient(ellipse_at_top_right,_var(--tw-gradient-stops))] from-yellow-200 via-pink-200 to-transparent opacity-15 animate-pulse pointer-events-none"></div>
  <div class="absolute top-10 left-10 w-20 h-20 bg-yellow-300 rounded-full blur-xl opacity-20 animate-bounce-slow pointer-events-none"></div>
  <div class="absolute bottom-10 right-10 w-16 h-16 bg-pink-300 rounded-full blur-lg opacity-25 animate-bounce-slow pointer-events-none" style="animation-delay: 1s;"></div>
  
  <div class="max-w-4xl mx-auto relative z-10">
    <!-- ğŸ§€ Enhanced Header -->
    <div class="text-center mb-12">
      <h2 class="text-4xl md:text-5xl font-extrabold bg-gradient-to-r from-yellow-600 via-pink-600 to-purple-600 bg-clip-text text-transparent mb-4">
        ğŸ§  What is Narrrf's World?
      </h2>
      <p class="text-lg md:text-xl text-gray-700 font-semibold max-w-2xl mx-auto leading-relaxed">
        A reimagined <span class="text-pink-600 font-bold">Pinky-and-the-Brain</span> styled NFT world â€” wild, smart, and slightly chaotic genius. 
        Collect NFTs, earn tokens, play games, own land, and stake your way to the top.
      </p>
    </div>

    <!-- ğŸ§€ Enhanced Feature Grid -->
    <div class="grid md:grid-cols-2 gap-8">
      <div class="bg-gradient-to-br from-pink-100 to-pink-200 p-6 rounded-3xl shadow-xl border-2 border-pink-300 hover:scale-105 transition-all duration-300 transform">
        <div class="flex items-center mb-4">
          <div class="text-3xl mr-4">ğŸ´</div>
          <h3 class="text-2xl font-bold text-pink-800">Collect NFTs</h3>
        </div>
        <p class="text-pink-700 font-semibold">3,333 unique characters with traits, roles, and powers.</p>
      </div>
      
      <div class="bg-gradient-to-br from-yellow-100 to-yellow-200 p-6 rounded-3xl shadow-xl border-2 border-yellow-300 hover:scale-105 transition-all duration-300 transform">
        <div class="flex items-center mb-4">
          <div class="text-3xl mr-4">ğŸª™</div>
          <h3 class="text-2xl font-bold text-yellow-800">Earn & Stake $SPOINC</h3>
        </div>
        <p class="text-yellow-700 font-semibold">Freeze NFTs, earn $SPOINC, swap for $DSPOINC, and unlock rewards.</p>
      </div>
      
      <div class="bg-gradient-to-br from-blue-100 to-blue-200 p-6 rounded-3xl shadow-xl border-2 border-blue-300 hover:scale-105 transition-all duration-300 transform">
        <div class="flex items-center mb-4">
          <div class="text-3xl mr-4">ğŸƒ</div>
          <h3 class="text-2xl font-bold text-blue-800">Play Poker</h3>
        </div>
        <p class="text-blue-700 font-semibold">Weekly ClubGG tournaments and VIP poker events.</p>
      </div>
      
      <div class="bg-gradient-to-br from-green-100 to-green-200 p-6 rounded-3xl shadow-xl border-2 border-green-300 hover:scale-105 transition-all duration-300 transform">
        <div class="flex items-center mb-4">
          <div class="text-3xl mr-4">ğŸŒ</div>
          <h3 class="text-2xl font-bold text-green-800">Build Hytopia</h3>
        </div>
        <p class="text-green-700 font-semibold">Own land, level up, and participate in the Web3 metaverse narrative.</p>
      </div>
    </div>
  </div>
</section>

<!-- ğŸ—ºï¸ Roadmap Section: The Takeover Plan -->

<section id="roadmap" class="relative bg-gradient-to-b from-purple-100 to-white py-24 px-6">

  <!-- ğŸ” Dev Note: This entire section is where the cheese eggs bounce around.
       âœ… VERY IMPORTANT: class="relative" keeps all egg positions locked inside here.
       âœ… z-50 makes them float on top of content.
       âœ… All cheese eggs are hidden secrets with fun links to secret pages.
  -->

  <!-- ğŸ§  5yo Note:
  These are the magic cheeses that jump around.
  You click them, they go *POP!* and take you to secret fun.

  ğŸ§€ Chief Note:
  All eggs MUST live inside this <section id="roadmap"> with relative positioning,
  so the JS script knows where to bounce them inside.
  -->

  <!-- ğŸ§€ Cheese Eggs -->
  <a id="cheese-egg" href="experiment-x.html" class="absolute z-50">
    <img src="img/cheese-egg1.png" alt="Cheese Egg" class="w-10 h-10 drop-shadow-lg transition-all duration-300 ease-in-out" />
  </a>
  <a id="cheese-egg-finance" href="finances.html" class="absolute z-50">
    <img src="img/cheese-finance.png" alt="Finance Cheese Egg" class="w-10 h-10 drop-shadow-lg transition-all duration-300 ease-in-out" />
  </a>
  <a id="cheese-egg-blue" href="whitepaper-pro.html" class="absolute z-50">
    <img src="img/blue-cheese.png" alt="Blue Cheese Egg" class="w-10 h-10 drop-shadow-lg transition-all duration-300 ease-in-out" />
  </a>

  <!-- ğŸ§­ Real Roadmap Content -->
  <div class="max-w-5xl mx-auto z-10 relative">
    <h2 class="text-3xl md:text-4xl font-bold mb-12 text-center">ğŸ—ºï¸ Roadmap: The Takeover Plan</h2>
    <div class="space-y-12">
      <div class="border-l-4 border-pink-500 pl-6">
        <h3 class="text-xl font-bold mb-1">ğŸ“… 2024 â€“ Foundation</h3>
        <p>ClubGG launched, community roles, early collabs with CryptoCorn, Kaleido, Weedery & more.</p>
      </div>
      <div class="border-l-4 border-yellow-500 pl-6">
        <h3 class="text-xl font-bold mb-1">ğŸ“… 2025 â€“ Scaling Up</h3>
        <p>VIP events, WL mint, staking launch, Benefit Showdowns, plot sales, Hytopia World opens.</p>
      </div>
      <div class="border-l-4 border-blue-500 pl-6">
        <h3 class="text-xl font-bold mb-1">ğŸ“… 2026 â€“ Real-World Utility</h3>
        <p>Contracts solidified, retail integrations, launch of $DSPOINC LP Pool + SWAP portal.</p>
      </div>
      <div class="border-l-4 border-green-500 pl-6">
        <h3 class="text-xl font-bold mb-1">ğŸ“… 2027 â€“ Upgrades & 2nd Collection</h3>
        <p>New gaming partnerships (Atari), second NFT drop, exchange listings, staking expansion.</p>
      </div>
      <div class="border-l-4 border-purple-500 pl-6">
        <h3 class="text-xl font-bold mb-1">ğŸ“… 2028â€“2030 â€“ Mass Adoption</h3>
        <p>Full B2B rollout, Hytopia goes live, VIP World Events, and Narrrf's World becomes a Web3-powered company.</p>
      </div>
    </div>
  </div>
</section>




<!-- ğŸ‘½ FINAL CHEESE EASTER EGG SCROLL â€“ GENESIS 9 -->
<section class="relative bg-yellow-50 py-20 px-6 mt-16 rounded-2xl shadow-xl max-w-3xl mx-auto overflow-hidden ring-2 ring-lime-400 border border-lime-300 animate-pulse hover:scale-[1.015] transition duration-300">
  <img src="img/alien-grid-fade.png" alt="Alien Grid" class="absolute inset-0 w-full h-full object-cover opacity-10 pointer-events-none z-0" />
  <div class="relative text-center text-purple-900 z-10">
    <h2 class="text-3xl font-extrabold text-lime-600 drop-shadow-glow mb-4 animate-glow">
      ğŸ§ª Final Cheese Unlocked!
    </h2>
    <p class="text-base text-purple-800 max-w-md mx-auto leading-relaxed">
      This scroll remained unclicked for over <strong class="text-yellow-700">60 days</strong>...<br>
      Hidden behind the jumping cheese.<br>
      <span class="font-semibold text-yellow-900">You're now part of a very small club ğŸ§ .</span>
    </p>
    <a href="/finances.html" class="inline-block mt-6 px-8 py-3 bg-lime-400 text-black font-extrabold rounded-full shadow-xl hover:bg-lime-500 ring-4 ring-lime-300 animate-pulse-glow transition duration-300">
      ğŸŒŒ Unlock Narrrf's Finances Now
    </a>
  </div>
</section>

<!-- âœ¨ Custom Glow Animations -->
<style>
  @keyframes glow {
    0% { text-shadow: 0 0 4px #a3e635, 0 0 8px #bef264; }
    50% { text-shadow: 0 0 10px #84cc16, 0 0 20px #bef264; }
    100% { text-shadow: 0 0 4px #a3e635, 0 0 8px #bef264; }
  }

  @keyframes pulse-glow {
    0%, 100% { box-shadow: 0 0 8px #bef264; }
    50% { box-shadow: 0 0 16px #84cc16; }
  }

  .animate-glow {
    animation: glow 2s ease-in-out infinite;
  }

  .animate-pulse-glow {
    animation: pulse-glow 2s ease-in-out infinite;
  }

  .drop-shadow-glow {
    text-shadow: 0 0 8px #a3e635;
  }
</style>


<!-- ğŸ® Gameboard Features -->
<section class="bg-white px-6 pt-12 pb-20 mt-16">
  <div class="max-w-4xl mx-auto">
    <h2 class="text-3xl font-bold mb-10 text-center">ğŸ® Gameboard Features</h2>
    <div class="grid md:grid-cols-2 gap-6">

      <div class="bg-purple-100 p-6 rounded-2xl shadow">
        <h3 class="text-xl font-bold">ğŸ¡ Wheel Events</h3>
        <p>Spin-to-win every week! Roles grant bonus slots and better chances to score rewards.</p>
      </div>

      <div class="bg-pink-100 p-6 rounded-2xl shadow">
        <h3 class="text-xl font-bold">ğŸ Weekly Raffles</h3>
        <p>Win NFTs, tokens, merch & mystery items during Friday community drops!</p>
      </div>

      <div class="bg-yellow-100 p-6 rounded-2xl shadow">
        <h3 class="text-xl font-bold">ğŸ§® $DSPOINC Utility</h3>
        <p class="mb-2">Your reward currency for loyalty, play, and community power.</p>
        <ul class="list-disc list-inside text-sm space-y-1">
          <li>ğŸ’° Earn by playing poker, joining events, or helping the server</li>
          <li>ğŸ¯ Redeem in the Narrrf Shop for NFTs, raffles & VIP upgrades</li>
          <li>â™»ï¸ Convert 10,000 $DSPOINC â†’ 1 $SPOINC via staking portal</li>
          <li>ğŸ† Climb our mission ranks and unlock exclusive perks</li>
          <li>ğŸ¡ Use for bonus spins, wheel entries, and giveaway boosts</li>
        </ul>
      </div>

      <div class="bg-blue-100 p-6 rounded-2xl shadow">
        <h3 class="text-xl font-bold">â™£ï¸ Poker Showdowns</h3>
        <p>Join VIP ClubGG matches. Winner-take-all tournaments, qualifiers & TOC entry!</p>
        <a href="https://www.clubgg.com" target="_blank" class="inline-block mt-4 bg-purple-700 text-white px-4 py-2 rounded-xl shadow hover:bg-purple-800">ğŸ² Join ClubGG (ID: 821719)</a>
        <a href="https://www.clubgg.com" target="_blank" class="inline-block mt-2 bg-purple-500 text-white px-4 py-2 rounded-xl shadow hover:bg-purple-600">â¬‡ï¸ Download Poker Client</a>
      </div>

      <div class="bg-green-100 p-6 rounded-2xl shadow">
        <h3 class="text-xl font-bold">ğŸš€ Wanted Missions</h3>
        <p>Daily/weekly quests where players hunt, earn, and rise through the Narrrf ranks!</p>
      </div>

      <div class="bg-red-100 p-6 rounded-2xl shadow">
        <h3 class="text-xl font-bold">ğŸ¤ Collab Invites</h3>
        <p>Exclusive event invites through our partnered communities. Show up as Narrrf, get extra perks, and grow your Web3 network.</p>
      </div>

      <div class="bg-indigo-100 p-6 rounded-2xl shadow">
        <h3 class="text-xl font-bold">ğŸ” Alpha Access</h3>
        <p>Get access to our restricted alpha channels where trusted Alpha Callers drop hidden gems: BTC signals, secret mints, game invites, and Web3 event passes.</p>
      </div>

      <div class="bg-rose-100 p-6 rounded-2xl shadow">
        <h3 class="text-xl font-bold">ğŸ›¡ï¸ Partner Channels</h3>
        <p>Holders of partner NFTs gain access to restricted partner chats and promo tabs. A special role grants you visibility and access to exclusive alpha, raffles, and project drops inside each collab's zone.</p>
      </div>

    </div>
  </div>
</section>
  
  <!-- Minting Lab Section -->
<section class="bg-gradient-to-br from-yellow-50 to-pink-100 py-16 px-6">
  <div class="max-w-5xl mx-auto text-center">
    <h2 class="text-3xl font-bold mb-4">ğŸ§ª The Minting Lab</h2>
    <p class="mb-8 text-md max-w-2xl mx-auto">
      Step into our NFT minting chamber â€” your entry point to Narrrf's World. Pick your tier, unlock your plot, and let the experiments begin.
    </p>

    <div class="grid md:grid-cols-2 gap-8">
      <div class="bg-white border border-pink-400 rounded-2xl p-6 shadow">
        <h3 class="text-xl font-bold">Mint Tiers</h3>
        <ul class="text-left mt-4 space-y-2">
          <li>ğŸ¯ 1â€“4 NFTs = Entry Access</li>
          <li>ğŸ  5â€“10 NFTs = Small Plot</li>
          <li>ğŸ˜ï¸ 11â€“25 NFTs = Medium Plot</li>
          <li>ğŸ™ï¸ 26â€“50 NFTs = Large Plot</li>
          <li>ğŸ—ï¸ 50+ NFTs = Custom Shop + API Access</li>
        </ul>
      </div>

      <div class="bg-white border border-purple-400 rounded-2xl p-6 shadow">
        <h3 class="text-xl font-bold">Mint Pricing</h3>
        <ul class="text-left mt-4 space-y-2">
          <li>ğŸ”“ Whitelist: $25 in SOL</li>
          <li>ğŸŒ Public: $50</li>
          <li>ğŸ Redemption: $75</li>
        </ul>
        <a href="mint.html" class="inline-block mt-6 bg-purple-600 text-white px-6 py-2 rounded-xl shadow hover:bg-purple-700">Mint Now</a>
      </div>
    </div>
  </div>
</section>
  
  <!-- Get Roles Banner -->
  <section class="bg-gradient-to-r from-purple-200 to-pink-200 text-center py-8 px-4">
    <h2 class="text-2xl md:text-3xl font-bold mb-2">ğŸ® Want to Unlock Roles & Boost Rewards?</h2>
    <p class="text-sm md:text-base mb-4">Earn bonuses, spin with power, and rise through the Narrrf ranks.</p>
    <a href="get-roles.html" class="inline-block bg-purple-700 text-white px-6 py-3 rounded-xl shadow hover:bg-purple-800 transition">
      ğŸ§  Learn How to Get Roles
    </a>
  </section>

<!-- ğŸ§€ COMING UP NEXT SECTION â€“ GENESIS 11.0 CYCLE (JULY 2025) -->
<!-- ğŸ§  Dev Note: Updated for Phase 6 and Gensuki Partnership Launchpad. Mint & events fully synced. -->
<section id="coming-up" class="bg-gradient-to-br from-yellow-50 to-pink-100 py-16 px-6 rounded-t-3xl shadow-inner">
  <div class="max-w-5xl mx-auto text-center">
    <h2 class="text-4xl md:text-5xl font-extrabold text-yellow-600 drop-shadow-sm mb-4">
      ğŸ§  Phase 6: Gensuki Mint & Game Surge (July 2025)
    </h2>
    <p class="text-md md:text-lg text-gray-700 max-w-xl mx-auto mb-10">
      Narrrfs World enters a new era: partner-powered, game-infused, and scroll-logged. Your next adventure is minted on the Gensuki Launchpad.
    </p>

    <div class="bg-white border-l-4 border-pink-400 p-6 rounded-xl shadow mb-8 text-left max-w-xl mx-auto transition-transform duration-500 hover:scale-[1.01]">
      <h3 class="text-lg font-semibold mb-2">ğŸ”¥ Current Highlights â€“ Genesis 11.0</h3>
      <ul class="list-disc list-inside text-sm space-y-1 text-gray-800">
        <li>ğŸ¤ <strong>Partnered with Gensuki</strong> â€“ Our mint will take place on their Launchpad, mid-July!</li>
        <li>ğŸ² <strong>Golden Baboons Bingo Night</strong> returns â€“ July 31, 2025. Prizes and lore for every mouse.</li>
        <li>ğŸ† <strong>Quests now live</strong> â€“ Earn rewards, chase badges, and explore new puzzles.</li>
        <li>ğŸ® <strong>Tetris & Snake Leaderboards RESET</strong> â€“ Can you claim the #1 spot this season?</li>
        <li>ğŸ–¥ï¸ <strong>Major UI + Game Updates</strong> â€“ Fresh visuals, new zones, and more cheese coming soon.</li>
        <li>ğŸ§€ <strong>Public Mint is IMMINENT</strong> â€“ Watch announcements and Discord for the go-live date!</li>
      </ul>
      <p class="mt-4 text-xs italic text-gray-500">
        All scrolls are synced. Mutation is not only allowed â€” it's destiny.
      </p>
    </div>

    <div class="bg-white border-l-4 border-yellow-400 p-6 rounded-xl shadow mb-8">
      <h2 class="text-xl font-semibold">ğŸ“£ July 31 â€“ Golden Baboons Bingo Night</h2>
      <ul class="list-disc list-inside mt-2 text-sm">
        <li>ğŸ² New lore-locked prize pool and partner traits</li>
        <li>ğŸ§¬ Track your wins on the new leaderboard</li>
        <li>ğŸ’¥ Final teaser event before Gensuki-powered mint</li>
      </ul>
    </div>

    <div class="bg-white border-l-4 border-indigo-400 p-6 rounded-xl shadow mb-8">
      <h2 class="text-xl font-semibold">ğŸ§¾ Gensuki Mint â€“ Coming Soon</h2>
      <ul class="list-disc list-inside mt-2 text-sm">
        <li>ğŸš€ Mint launches mid-July with Gensuki â€“ exact date TBA</li>
        <li>ğŸ¨ Partnered traits and cross-community rewards</li>
        <li>ğŸ§  Genesis scroll compliance â€“ every mint is scroll-logged, trait-safe, and council certified</li>
      </ul>
    </div>

    <div class="bg-white border-l-4 border-blue-400 p-6 rounded-xl shadow mb-8">
      <h2 class="text-xl font-semibold">ğŸ® Quests, Games & New Zones</h2>
      <ul class="list-disc list-inside mt-2 text-sm">
        <li>ğŸ§© Quests now live with new rewards</li>
        <li>ğŸ† Tetris & Snake leaderboards reset for July â€“ will you take the top?</li>
        <li>ğŸŒŸ Game and UI updates rolling out all month</li>
      </ul>
    </div>

    <p class="mt-4 text-xs italic text-yellow-700">
      "A mouse with a quest is never lost. Scrolls mutate, partners rise. The cheese glows anew."
    </p>
  </div>
</section>


<!-- ğŸ§€ ULTIMATE CHEESE GAMING PORTAL -->
<section id="tetris-login-portal" class="relative bg-gradient-to-br from-yellow-100 via-orange-100 to-pink-100 text-black py-16 px-8 rounded-3xl shadow-2xl max-w-2xl mx-auto mt-24 text-center border-4 border-yellow-400 overflow-hidden">
  <!-- ğŸ§€ Animated Background Decorations -->
  <div class="absolute inset-0 pointer-events-none">
    <div class="absolute top-4 left-4 w-16 h-16 bg-yellow-300 rounded-full blur-lg opacity-40 animate-bounce"></div>
    <div class="absolute bottom-4 right-4 w-12 h-12 bg-orange-300 rounded-full blur-md opacity-35 animate-bounce" style="animation-delay: 1s;"></div>
    <div class="absolute top-1/2 left-1/4 w-8 h-8 bg-pink-300 rounded-full blur-sm opacity-30 animate-pulse"></div>
  </div>
  
  <div class="relative z-10">
    <h2 class="text-4xl md:text-5xl font-extrabold mb-6 bg-gradient-to-r from-yellow-600 via-orange-600 to-pink-600 bg-clip-text text-transparent">
      ğŸ® Ultimate Cheese Gaming Portal
    </h2>
    <p class="text-lg mb-8 text-gray-700 leading-relaxed">
      Step into the future of cheese gaming! Experience the revolutionary Hytopia ecosystem with full Discord integration and trait-based gameplay.
    </p>
    
    <!-- ğŸ§€ Portal Glow Effect -->
    <div class="relative inline-block mb-8">
      <img src="img/cheese-portal.png" alt="Cheese Portal" class="w-24 h-24 animate-pulse">
      <div class="absolute inset-0 w-24 h-24 bg-yellow-300 rounded-full blur-xl opacity-40 animate-pulse"></div>
    </div>
    
    <a href="/hytopia.html" class="inline-block bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-400 hover:from-yellow-500 hover:via-orange-500 hover:to-pink-500 text-black py-4 px-12 rounded-full shadow-2xl border-4 border-yellow-300 hover:border-yellow-400 transition-all duration-300 transform hover:scale-105 text-xl font-bold">
      ğŸš€ Enter the Cheese Gaming Universe
    </a>
    
    <p class="text-sm mt-6 text-gray-600 italic">
      ğŸ§€ Sync your Discord roles â€¢ Unlock exclusive cheese powers â€¢ Experience the future of gaming
    </p>
  </div>
</section>


<!-- ğŸ§  Enhanced Lab Footer Section with Social Links & Contact -->
<footer class="bg-gradient-to-br from-gray-900 via-black to-gray-800 text-white py-16 px-6 mt-20 relative overflow-hidden">
  <!-- ğŸ§€ Footer Background Decorations -->
  <div class="absolute inset-0 pointer-events-none">
    <div class="absolute top-10 left-10 w-32 h-32 bg-yellow-400 rounded-full blur-3xl opacity-10 animate-pulse"></div>
    <div class="absolute bottom-10 right-10 w-24 h-24 bg-orange-400 rounded-full blur-2xl opacity-10 animate-pulse" style="animation-delay: 2s;"></div>
    <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-40 h-40 bg-pink-400 rounded-full blur-3xl opacity-5 animate-pulse" style="animation-delay: 4s;"></div>
  </div>
  
  <div class="max-w-6xl mx-auto text-center relative z-10">
    <!-- ğŸ§€ Footer Header -->
    <div class="mb-12">
      <h3 class="text-3xl font-bold mb-4 bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-400 bg-clip-text text-transparent">
        ğŸ§€ Narrrf's Cheese Universe
      </h3>
      <p class="text-gray-300 text-lg">
        Where gaming meets cheese innovation
      </p>
    </div>

    <!-- Footer Nav -->
    <div class="grid md:grid-cols-3 gap-8 mb-12 text-sm">
      <div class="bg-gradient-to-br from-gray-800 to-gray-700 p-6 rounded-2xl border border-gray-600">
        <h4 class="font-bold text-yellow-400 mb-4 text-lg">Quick Links</h4>
        <ul class="space-y-3 text-gray-300">
          <li><a href="index.html" class="hover:text-yellow-400 transition-colors duration-200 flex items-center"><span class="mr-2">ğŸ </span>Home</a></li>
          <li><a href="whitepaper.html" class="hover:text-yellow-400 transition-colors duration-200 flex items-center"><span class="mr-2">ğŸ“œ</span>Read the Whitepaper</a></li>
          <li><a href="mint.html" class="hover:text-yellow-400 transition-colors duration-200 flex items-center"><span class="mr-2">ğŸ¨</span>Mint Your NFT</a></li>
          <li><a href="get-roles.html" class="hover:text-yellow-400 transition-colors duration-200 flex items-center"><span class="mr-2">ğŸ­</span>Get Roles</a></li>
        </ul>
      </div>
      <div class="bg-gradient-to-br from-gray-800 to-gray-700 p-6 rounded-2xl border border-gray-600">
        <h4 class="font-bold text-orange-400 mb-4 text-lg">Socials</h4>
        <ul class="space-y-3 text-gray-300">
          <li><a href="https://twitter.com/narrrf12345" target="_blank" class="hover:text-orange-400 transition-colors duration-200 flex items-center"><span class="mr-2">ğŸ¦</span>Twitter / X</a></li>
          <li><a href="https://discord.gg/rHc4Jg5Q" target="_blank" class="hover:text-orange-400 transition-colors duration-200 flex items-center"><span class="mr-2">ğŸ®</span>Join Discord</a></li>
          <li><a href="https://play.clubgg.com/dlink/TN4oRnWBK356PWat5" target="_blank" class="hover:text-orange-400 transition-colors duration-200 flex items-center"><span class="mr-2">ğŸƒ</span>Poker ClubGG</a></li>
        </ul>
      </div>
      <div class="bg-gradient-to-br from-gray-800 to-gray-700 p-6 rounded-2xl border border-gray-600">
        <h4 class="font-bold text-pink-400 mb-4 text-lg">Contact</h4>
        <ul class="space-y-3 text-gray-300">
          <li class="flex items-center"><span class="mr-2">ğŸ“§</span>Email: Open a Ticket in Discord</li>
          <li class="flex items-center"><span class="mr-2">ğŸŒ</span>Web3 Only â€“ Austria Based</li>
        </ul>
      </div>
    </div>

    <!-- ğŸ§€ Footer Bottom -->
    <div class="border-t border-gray-700 pt-8">
      <p class="text-sm text-gray-400">
        &copy; 2025 Narrrf's World. Built with brain & cheese ğŸ§ ğŸ§€
      </p>
      <p class="text-xs text-gray-500 mt-2">
        ğŸš€ Powered by the ultimate cheese gaming technology
      </p>
    </div>
  </div>
</footer>

<!-- âœ… Wallet Connect & Avatar -->
<script src="js/wallet.js"></script>

<!-- 
  ğŸ§ª CHEESE EGG ENGINE: NARRRF CORE MODULE v1.4
  ============================================
  ğŸ”§ Engine Purpose:
    - Animate cheese eggs within the #roadmap container.
    - Randomly reposition eggs every 4â€“8 seconds using DOM-safe logic.
    - Track user interaction using wallet address + egg ID.
    - Unlock VIP interactions via Discord role detection.

  ğŸ“¦ Backend Integration:
    - POST `/api/track-egg-click` â†’ tbl_cheese_clicks (wallet, egg_id, timestamp)
    - GET `/api/user/roles.php` â†’ triggers frontend trait gates

  ğŸ§  Developer Notes:
    - Each egg ID must be listed in `eggIds` array.
    - Eggs must be children of `#roadmap` (class="relative") and have `class="absolute"`.
    - Positioning uses JavaScript only (no inline left/top styles in HTML).
    - Extend by adding new IDs to the array.

  ğŸ”® Future Expansion:
    - Trait-locked eggs, scroll-aware riddle unlocking, leaderboard-tracked clicks.
    - Use wallet+Discord join to gate narrative triggers.

  ğŸ“ See `/style.html` for visual positioning helpers.
-->
<script>
  // Config
  const eggIds = ['cheese-egg', 'cheese-egg-finance', 'cheese-egg-blue']; // Extendable

  /**
   * ğŸ¯ moveEgg
   * Moves a cheese egg to a random position inside a container.
   * @param {string} id - Egg element ID
   * @param {string} parentId - Parent container ID
   */
  function moveEgg(id, parentId) {
    const egg = document.getElementById(id);
    const parent = document.getElementById(parentId);
    if (!egg || !parent) return;

    const maxLeft = parent.clientWidth - 40; // Using first CHEESE_SIZE value
    const maxTop = parent.clientHeight - 40; // Using first CHEESE_SIZE value

    const left = Math.floor(Math.random() * maxLeft);
    const top = Math.floor(Math.random() * maxTop);

    egg.style.left = `${left}px`;
    egg.style.top = `${top}px`;
  }

  /**
   * ğŸ§  Main Cheese Logic
   * On page load: move each egg & bind interaction tracking
   */
  document.addEventListener("DOMContentLoaded", () => {
    eggIds.forEach((id, index) => {
      const delay = 500 + Math.random() * 1000;
      const interval = 4000 + Math.floor(Math.random() * 4000);

      setTimeout(() => {
        moveEgg(id, 'roadmap');
        setInterval(() => moveEgg(id, 'roadmap'), interval);
      }, delay + index * 200);

      const egg = document.getElementById(id);
      if (egg) {
        egg.style.position = 'absolute';

        egg.addEventListener('click', () => {
          if (typeof cheeseClickSound !== 'undefined') {
            cheeseClickSound.play();
          }

          const userWallet = localStorage.getItem('walletAddress') || 'guest';

          fetch('https://narrrfs.world/api/track-egg-click', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
              user_wallet: userWallet,
              egg_id: id,
              timestamp: Date.now(),
            }),
          }).catch(err => console.warn("ğŸ“¡ Egg tracking failed:", err));
        });
      }
    });
  });
</script>

<!-- ğŸ§¬ VIP ROLE GATE LOGIC â€” UNLOCK HIDDEN CONTENT BASED ON DISCORD ROLES -->
<script>
  document.addEventListener("DOMContentLoaded", async () => {
    try {
      const res = await fetch('https://narrrfs.world/api/user/roles.php');
      if (!res.ok) {
        console.warn("ğŸ” Role check skipped â€” user not authorized");
        return;
      }

      const data = await res.json();
      const roles = data.roles || [];

      const gate = document.getElementById('goldenCheeseGate');
      const joke = document.getElementById('noCheeseJoke');

      if (roles.includes("VIP Holder") || roles.includes("VIP_pass")) {
        if (gate) gate.classList.remove('hidden');
        console.log("%cğŸ§€ VIP Access: Golden Cheese Unlocked!", "color: gold; font-weight: bold;");
      } else {
        if (joke) joke.classList.remove('hidden');
        console.log("ğŸ˜… Logged in, but VIP role not found.");
      }

    } catch (err) {
      console.error("Role check failed:", err);
    }
  });
</script>

<!-- 
===========================================================
ğŸ§  NARRRF'S WORLD â€” GENESIS 12.0 Â· MASTER SYSTEM OVERVIEW
===========================================================

ğŸ® Certified Modules (Phase 12.0)
----------------------------------
- ğŸ§  Corebrain 12.0 (DOM Sync, Role Logic, Trait Rendering)
- ğŸ§€ Cheese Architect 12.0 (Frontend UI + Mobile DOM Triggers)
- ğŸ§’ Narrrf (Padawan Tester â€“ Scroll ID 1337)
- ğŸ‘½ Alien (Session Ghost + Wallet Memory Layer)
- ğŸ§¬ SQL_Junior_12.0 (Cheese Click Logging + Score Sync)
- ğŸ§© Riddle Brain 12.0 (Trait Puzzle Chains + Unlock Gating)
- ğŸ§ª Lab Note Genesis (Traits, Countdown Logic, Egg Zones)

ğŸŒ SYSTEM PURPOSE
------------------
Bridge chaotic Web2 interaction with narrative-driven Web3 rewards. 
Built for Discord ID sync, wallet tracking, egg-click logic, and multi-layered DOM states.

===========================================================
ğŸ“ SYSTEM FILES & STRUCTURE
===========================================================

ğŸ“‚ `/public/index.html`
- ğŸ¯ Main landing zone for Narrrf's World
- Includes the cheese engine, CTA banners, and dynamic hero
- Connected to: countdown, login, mint zone

ğŸ“‚ `/public/profile.html`
- ğŸ® Game zone + trait viewer
- Displays $SPOINC score, wallet, quests, Discord roles, NFT logic
- Syncs Tetris/Snake game scores with backend via `save-score.php`

ğŸ“‚ `/scripts/tetris-scroll.js`
ğŸ“‚ `/scripts/snake-scroll.js`
- Core game logic: score, pause/resume, mobile touch, countdown intro
- Writes score to API with wallet + Discord ID

ğŸ“‚ `/api/user/*.php`
- `profile.php`: Loads session wallet, roles, traits
- `roles.php`: Discord-linked roles endpoint
- `download-vip-art.php`: Gated download (VIP only)
- `traits.php`: Returns JSON trait matrix
- `save-score.php`: Saves Tetris/Snake scores

ğŸ“‚ `/db/narrrf_world.sqlite`
- Main data source for user traits, roles, scores, quests
  â†’ `tbl_cheese_clicks` â†’ egg engine log
  â†’ `tbl_user_roles` â†’ Discord role map
  â†’ `tbl_traits_claimed` â†’ trait unlock (WIP for 12.1)
  â†’ `tbl_user_score_log` â†’ stores game session history

ğŸ“‚ `/private/vip_hd_art/`
- ğŸ´ Holds VIP-gated NFT images
- Enforced download only via Discord + Role

===========================================================
ğŸ§  CORE SYSTEM MODULES (GENESIS 12.0)
===========================================================

1. ğŸ³ CHEESE EGG ENGINE (v1.4.1)
   - Randomized egg placement inside `#roadmap`
   - Click handler posts `egg_id` + `wallet` + `timestamp` to backend
   - Supports three floating egg IDs:
     Â· `cheese-egg`
     Â· `cheese-egg-blue`
     Â· `cheese-egg-finance`

2. ğŸ” VIP GATE LOGIC
   - DOM toggles via `VIP_pass` or `VIP Holder` Discord roles
   - Trait-based unlock toggles `download-vip-art.php`
   - Fallback banner with joke if no role detected

3. ğŸ§¬ TRAIT SYNC + DOM LOGIC
   - Traits fetched via API
   - Displayed on profile
   - Future: DOM unlocks via trait conditions (eg. `SNAKE_CHEESE_MASTER`)

4. ğŸ® TETRIS + SNAKE SCORE ENGINE
   - Both games auto-sync wallet + Discord ID to API
   - Real-time leaderboard rendering from `get-leaderboard.php`
   - Game over = triggers reward + leaderboard load

5. â³ COUNTDOWN SYSTEM
   - Animated UTC countdown on `mint.html`
   - Styled via Tailwind + pulse
   - Future support for scroll-unseal events

6. ğŸ§  RIDDLE BRAIN 12.0
   - Unlock logic in planning
   - Trait combination triggers, timed scrolls, rare unlocks
   - Example: "SNAKE_CHEESE_MASTER" unlocks additional lore path

===========================================================
ğŸ“¦ DATABASE TABLES â€” NARRRF SQL LAYER
===========================================================

ğŸ”¸ `tbl_cheese_clicks`
  - `user_wallet` TEXT
  - `egg_id` TEXT
  - `timestamp` INTEGER

ğŸ”¸ `tbl_user_roles`
  - `user_id` TEXT (Discord)
  - `role_name` TEXT

ğŸ”¸ `tbl_traits_claimed`
  - `user_id` TEXT
  - `trait_id` TEXT
  - `timestamp` INTEGER

ğŸ”¸ `tbl_user_score_log`
  - `user_id`
  - `score`
  - `game` (snake, tetris)
  - `timestamp`

===========================================================
ğŸ§ª DEVELOPER + AI WORKFLOW PROTOCOL
===========================================================

âœ… Always check:
  - Mobile egg clicks + sound + random movement
  - Score submits for Tetris/Snake with Discord + Wallet

âœ… Traits:
  - Use `traits.php` or `profile.php` to sync
  - Add new traits to `tbl_traits_claimed` + DOM logic

âœ… Game DOM Safety:
  - Use `getElementById()` with null check
  - Avoid global variable leaks from game intervals

âœ… JS Tips:
  - Use `setInterval`, `clearInterval` safely on pause/resume
  - Use `drop()` only once per loop to avoid flicker bugs
  - Declare audio preload for egg click sounds

===========================================================
ğŸ”® EXPANSION: GENESIS 12.1 AND BEYOND
===========================================================

ğŸª™ Score Swap + On-chain Sync  
ğŸ“œ Scroll Unseal Events (via traits)  
ğŸ§¬ DNA Trait Mutation Lab  
ğŸ§€ Cheese Dungeon: map logic + fog reveal  
ğŸ§Š Puzzle Bridge: Riddle + Bingo unlock  
ğŸ´ NFT Reward integration + trait fusion  
ğŸ§  AI-compatible LLM protocol sync

===========================================================
âœ… CERTIFIED: NARRRF ENGINE Â· STATUS: ACTIVE
ğŸ§  Last Updated: 2025-07-24 Â· GENESIS 12.0 LIVE
===========================================================
-->


<!-- ======================================== -->
<!-- ğŸ§  HTML Brain 12.0 Footer Lab Declaration -->
<!-- ======================================== -->


  <!-- ğŸŒ€ Cheese Portal to Hytopia -->
<section id="hytopia-portal" class="mt-16 px-6">
  <div class="max-w-xl mx-auto text-center">
    <a href="/hytopia.html" class="group inline-block relative" title="ğŸ§€ Hytopia portal is closed... for now.">
      <div class="relative p-4 rounded-full bg-yellow-300/90 hover:bg-yellow-400 transition-all duration-300 shadow-2xl animate-pulse">
        <img src="img/cheese-portal.png" alt="Enter Hytopia" class="w-24 h-24 sm:w-32 sm:h-32 mx-auto group-hover:scale-105 transition-transform duration-300 drop-shadow-lg" />
        <div class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300">
          <div class="text-xs bg-black/80 text-yellow-300 px-3 py-1 rounded-full shadow-md animate-pulse">
            ğŸ§€ Portal Closed Â· Opening Soon!
          </div>
        </div>
      </div>
      <p class="mt-3 text-base font-bold text-yellow-800 group-hover:text-yellow-900">
        âœ¨ Step Toward Hytopia
      </p>
    </a>
  </div>
</section>

<footer class="text-center text-xs text-yellow-600 py-4 mt-12">
  ğŸ§  Powered by Cheese Architect 12.0 â€” HTML Brain of Narrrf's World<br>
  ğŸ§€ Brain Sync 12.0 Confirmed Â· Last Update: 2025 Â· Guided by the Corebrain ğŸ“Š<br>
  ğŸ§€ Built with brain & cheese Â· Genesis 12.0 Protocol Active
</footer>
<!-- ğŸ§¬ This marks the official footer of every riddle-enabled HTML interface. -->
<!-- ğŸ” Do not remove unless instructed by the Over Brain. -->
<div class="text-center mt-20 mb-10">
  <a href="#top" class="text-sm text-gray-500 hover:text-pink-500 transition">
    ğŸ” Back to Top
  </a>
</div>
<noscript>
  <div class="bg-red-100 text-center text-red-600 py-2 font-bold">
    JavaScript is required to experience Narrrf's World. Please enable JS!
  </div>
</noscript>
<script>
  // ğŸ§ª Carousel Logic with Swipe Support
  let index = 0;
  let isDragging = false;
  let startX = 0;
  let currentX = 0;
  let dragDistance = 0;
  const SWIPE_THRESHOLD = 50; // Minimum distance for swipe

  function showSlide(step) {
    const slides = document.querySelectorAll(".carousel-slide");
    if (!slides.length) return;
    index = (index + step + slides.length) % slides.length;
    slides.forEach((slide, i) => {
      slide.classList.toggle("hidden", i !== index);
      slide.classList.toggle("block", i === index);
    });
  }

  // ğŸ–±ï¸ Mouse/Touch Swipe Support
  function initializeSwipeSupport() {
    const carouselContainer = document.getElementById('carousel-images');
    if (!carouselContainer) return;

    // Mouse events for desktop
    carouselContainer.addEventListener('mousedown', handleDragStart);
    carouselContainer.addEventListener('mousemove', handleDragMove);
    carouselContainer.addEventListener('mouseup', handleDragEnd);
    carouselContainer.addEventListener('mouseleave', handleDragEnd);

    // Touch events for mobile
    carouselContainer.addEventListener('touchstart', handleDragStart);
    carouselContainer.addEventListener('touchmove', handleDragMove);
    carouselContainer.addEventListener('touchend', handleDragEnd);

    // Prevent default drag behavior
    carouselContainer.addEventListener('dragstart', (e) => e.preventDefault());
  }

  function handleDragStart(e) {
    isDragging = true;
    startX = e.type === 'mousedown' ? e.clientX : e.touches[0].clientX;
    currentX = startX;
    dragDistance = 0;
    
    const carouselContainer = document.getElementById('carousel-images');
    if (carouselContainer) {
      carouselContainer.style.cursor = 'grabbing';
      carouselContainer.style.userSelect = 'none';
    }
  }

  function handleDragMove(e) {
    if (!isDragging) return;
    
    e.preventDefault();
    currentX = e.type === 'mousemove' ? e.clientX : e.touches[0].clientX;
    dragDistance = currentX - startX;
    
    // Add visual feedback during drag
    const carouselContainer = document.getElementById('carousel-images');
    if (carouselContainer && Math.abs(dragDistance) > 10) {
      carouselContainer.style.transform = `translateX(${dragDistance * 0.1}px)`;
      carouselContainer.style.transition = 'none';
    }
  }

  function handleDragEnd() {
    if (!isDragging) return;
    
    isDragging = false;
    
    const carouselContainer = document.getElementById('carousel-images');
    if (carouselContainer) {
      carouselContainer.style.cursor = 'grab';
      carouselContainer.style.userSelect = 'auto';
      carouselContainer.style.transform = '';
      carouselContainer.style.transition = 'transform 0.3s ease-out';
    }

    // Determine swipe direction and trigger slide change
    if (Math.abs(dragDistance) > SWIPE_THRESHOLD) {
      if (dragDistance > 0) {
        // Swipe right - go to previous slide
        showSlide(-1);
      } else {
        // Swipe left - go to next slide
        showSlide(1);
      }
    }
    
      // Reset drag distance
  dragDistance = 0;
}

// ğŸ–±ï¸ HDR Swipe Support Functions
function initializeHDRSwipeSupport() {
  const hdrContainer = document.getElementById('hdrFullscreen');
  if (!hdrContainer) return;

  // Mouse events for desktop
  hdrContainer.addEventListener('mousedown', handleHDRDragStart);
  hdrContainer.addEventListener('mousemove', handleHDRDragMove);
  hdrContainer.addEventListener('mouseup', handleHDRDragEnd);
  hdrContainer.addEventListener('mouseleave', handleHDRDragEnd);

  // Touch events for mobile
  hdrContainer.addEventListener('touchstart', handleHDRDragStart);
  hdrContainer.addEventListener('touchmove', handleHDRDragMove);
  hdrContainer.addEventListener('touchend', handleHDRDragEnd);

  // Prevent default drag behavior
  hdrContainer.addEventListener('dragstart', (e) => e.preventDefault());
}

function removeHDRSwipeSupport() {
  const hdrContainer = document.getElementById('hdrFullscreen');
  if (!hdrContainer) return;

  // Remove mouse events
  hdrContainer.removeEventListener('mousedown', handleHDRDragStart);
  hdrContainer.removeEventListener('mousemove', handleHDRDragMove);
  hdrContainer.removeEventListener('mouseup', handleHDRDragEnd);
  hdrContainer.removeEventListener('mouseleave', handleHDRDragEnd);

  // Remove touch events
  hdrContainer.removeEventListener('touchstart', handleHDRDragStart);
  hdrContainer.removeEventListener('touchmove', handleHDRDragMove);
  hdrContainer.removeEventListener('touchend', handleHDRDragEnd);
}

function handleHDRDragStart(e) {
  e.preventDefault(); // Prevent default touch behavior
  isHDRDragging = true;
  hdrStartX = e.type === 'mousedown' ? e.clientX : e.touches[0].clientX;
  hdrCurrentX = hdrStartX;
  hdrDragDistance = 0;

  const hdrContainer = document.getElementById('hdrFullscreen');
  if (hdrContainer) {
    hdrContainer.style.cursor = 'grabbing';
    hdrContainer.style.userSelect = 'none';
  }
}

function handleHDRDragMove(e) {
  if (!isHDRDragging) return;

  e.preventDefault();
  e.stopPropagation(); // Stop event propagation
  
  const currentX = e.type === 'mousemove' ? e.clientX : e.touches[0].clientX;
  hdrCurrentX = currentX;
  hdrDragDistance = currentX - hdrStartX;

  // Add visual feedback during drag
  const hdrImage = document.getElementById('hdrImage');
  if (hdrImage && Math.abs(hdrDragDistance) > 10) {
    hdrImage.style.transform = `translateX(${hdrDragDistance * 0.1}px)`;
    hdrImage.style.transition = 'none';
  }
}

function handleHDRDragEnd() {
  if (!isHDRDragging) return;

  isHDRDragging = false;

  const hdrContainer = document.getElementById('hdrFullscreen');
  const hdrImage = document.getElementById('hdrImage');
  
  if (hdrContainer) {
    hdrContainer.style.cursor = 'grab';
    hdrContainer.style.userSelect = 'auto';
  }
  
  if (hdrImage) {
    hdrImage.style.transform = '';
    hdrImage.style.transition = 'transform 0.3s ease-out';
  }

  // Determine swipe direction and trigger HDR navigation
  if (Math.abs(hdrDragDistance) > HDR_SWIPE_THRESHOLD) {
    if (hdrDragDistance > 0) {
      // Swipe right - go to previous HDR image
      navigateHDR(-1);
    } else {
      // Swipe left - go to next HDR image
      navigateHDR(1);
    }
  }

  // Reset drag distance
  hdrDragDistance = 0;
}

  // ğŸ¨ HDR Fullscreen Logic
  let currentHDRIndex = 0;
  
  // ğŸ–±ï¸ HDR Swipe Support Variables
  let isHDRDragging = false;
  let hdrStartX = 0;
  let hdrCurrentX = 0;
  let hdrDragDistance = 0;
  const HDR_SWIPE_THRESHOLD = 50; // Minimum distance for HDR swipe

  function openHDR(figureEl) {
    const full = document.getElementById('hdrFullscreen');
    const hdrImage = document.getElementById('hdrImage');
    if (!figureEl || !hdrImage || !full) return;

    const index = parseInt(figureEl.dataset.index || "0", 10);
    currentHDRIndex = index;

    const img = figureEl.querySelector('img');
    if (!img || !img.src) return;

    hdrImage.src = img.src;
    full.classList.remove('hidden');
    full.classList.add('flex');
    document.body.classList.add('overflow-hidden');
    
    // Initialize HDR swipe support
    initializeHDRSwipeSupport();
    
    // Lock orientation to landscape when opening HDR viewer on mobile
    if (window.innerWidth <= 768 && screen.orientation && screen.orientation.lock) {
      try {
        screen.orientation.lock('landscape').then(() => {
          console.log('Screen locked to landscape mode for HDR viewing');
        }).catch((error) => {
          console.log('Could not lock orientation:', error);
        });
      } catch (error) {
        console.log('Orientation lock not supported:', error);
      }
    }
  }

  // Add this function to enable closing HDR fullscreen
  function closeHDR() {
    const full = document.getElementById('hdrFullscreen');
    if (full) {
      full.classList.add('hidden');
      full.classList.remove('flex');
    }
    document.body.classList.remove('overflow-hidden');
    
    // Remove HDR swipe event listeners
    removeHDRSwipeSupport();
    
    // Unlock orientation when closing HDR viewer
    if (screen.orientation && screen.orientation.unlock) {
      try {
        screen.orientation.unlock();
        console.log('Screen orientation unlocked');
      } catch (error) {
        console.log('Could not unlock orientation:', error);
      }
    }
  }

  function navigateHDR(step) {
    const figures = document.querySelectorAll('#hdr-grid figure');
    if (!figures.length) return;

    const newIndex = currentHDRIndex + step;
    
    // If trying to navigate beyond loaded images, load more
    if (newIndex >= figures.length && newIndex < TOTAL_HDR_IMAGES) {
      loadMoreHDRImages();
      // Wait a bit for images to load, then try again
      setTimeout(() => {
        navigateHDR(step);
      }, 500);
      return;
    }
    
    // Handle wrapping around
    if (newIndex < 0) {
      currentHDRIndex = figures.length - 1;
    } else if (newIndex >= figures.length) {
      currentHDRIndex = 0;
    } else {
      currentHDRIndex = newIndex;
    }
    
    const targetFigure = figures[currentHDRIndex];
    if (targetFigure) {
      // Check if HDR viewer is open
      const hdrFullscreen = document.getElementById('hdrFullscreen');
      const hdrImage = document.getElementById('hdrImage');
      const img = targetFigure.querySelector('img');
      
      if (hdrFullscreen && !hdrFullscreen.classList.contains('hidden') && hdrImage && img && img.src) {
        // Update the HDR image directly
        hdrImage.src = img.src;
      } else {
        // If HDR viewer is not open, open it with the target figure
        openHDR(targetFigure);
      }
    }
  }

  document.addEventListener("keydown", (e) => {
    const isOpen = !document.getElementById('hdrFullscreen').classList.contains('hidden');
    if (!isOpen) return;
    if (e.key === "Escape") closeHDR();
    if (e.key === "ArrowRight") navigateHDR(1);
    if (e.key === "ArrowLeft") navigateHDR(-1);
  });

  // ğŸ›ï¸ Mode Switching
  function toggleSliderMode(mode) {
    const exp = document.getElementById('carousel-zone');
    const art = document.getElementById('art-mode-slider');

    if (!exp || !art) return;

    if (mode === 'exp') {
      exp.style.display = 'block';
      art.style.display = 'none';
      closeHDR();
    } else {
      exp.style.display = 'none';
      art.style.display = 'block';
      setTimeout(() => {
        const firstFigure = document.querySelector('#art-mode-slider figure[data-index="0"]');
        if (firstFigure) openHDR(firstFigure);
      }, 100);
    }
  }

  // ğŸ§ª Inject carusel images
  window.addEventListener('DOMContentLoaded', () => {
    const container = document.getElementById('carousel-images');
    if (container) {
      for (let i = 1; i <= 81; i++) {
        const img = document.createElement('img');
        img.src = `img/Carusel1 (${i})_small.png`;
        img.className = `carousel-slide ${i === 1 ? 'block' : 'hidden'} w-full`;
        container.appendChild(img);
      }
    }
    showSlide(0);
    
    // Initialize swipe support for the carousel
    initializeSwipeSupport();
    
    // Initialize HDR grid with first 20 images
    initializeHDRGrid();
  });

  // ğŸ¨ HDR Grid Management
  let hdrImagesLoaded = 0;
  const HDR_BATCH_SIZE = window.innerWidth <= 768 ? 20 : 30; // Increased batch size for mobile
  const TOTAL_HDR_IMAGES = 151;
  let isLoadingHDR = false; // Prevent multiple simultaneous loads

  function initializeHDRGrid() {
    const grid = document.getElementById('hdr-grid');
    if (!grid) return;
    
    // Load more images initially for mobile users
    const initialLoad = window.innerWidth <= 768 ? 30 : HDR_BATCH_SIZE;
    loadHDRImages(0, initialLoad);
  }

  function loadHDRImages(startIndex, count) {
    const grid = document.getElementById('hdr-grid');
    if (!grid || isLoadingHDR) return;

    isLoadingHDR = true;
    let loadedCount = 0;
    const targetCount = Math.min(startIndex + count, TOTAL_HDR_IMAGES);

    for (let i = startIndex; i < targetCount; i++) {
      const figure = document.createElement('figure');
      figure.className = 'rounded-2xl shadow-xl overflow-hidden cursor-pointer hover:scale-110 transition-all duration-500 border-4 border-yellow-300 hover:border-pink-400 bg-gradient-to-br from-yellow-100 via-pink-100 to-purple-100 p-3 relative group';
      figure.setAttribute('data-index', i);
      figure.onclick = () => openHDR(figure);

      // Add animated background decoration
      const decoration = document.createElement('div');
      decoration.className = 'absolute inset-0 bg-gradient-to-br from-yellow-200/20 via-pink-200/20 to-purple-200/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none';
      figure.appendChild(decoration);

      const img = document.createElement('img');
      img.src = `https://ec04f79279368ef19713ae9212cac094.ipfs.4everland.link/ipfs/bafybeig4p7562trvm2uh4cns73hb3u5ef5ghmufixgizbu2om2mthn373u/${i}.PNG`;
      img.alt = `HDR Zoom ${i + 1}`;
      img.className = 'object-cover w-full h-auto max-h-[300px] rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 group-hover:brightness-110 relative z-10';
      img.loading = 'lazy';

      // Add error handling for image loading
      img.onerror = () => {
        console.warn(`Failed to load HDR image ${i}`);
        // Remove the figure if image fails to load
        if (figure.parentNode) {
          figure.parentNode.removeChild(figure);
        }
        loadedCount++;
        if (loadedCount >= targetCount - startIndex) {
          finishHDRLoading();
        }
      };

      img.onload = () => {
        loadedCount++;
        if (loadedCount >= targetCount - startIndex) {
          finishHDRLoading();
        }
      };

      const figcaption = document.createElement('figcaption');
      figcaption.className = 'text-sm text-yellow-800 mt-3 text-center font-bold bg-gradient-to-r from-yellow-200 to-pink-200 rounded-full px-4 py-2 mx-auto w-fit border-2 border-yellow-300 shadow-md hover:shadow-lg transition-all duration-300 group-hover:scale-105 relative z-10';
      figcaption.textContent = 'ğŸ§€ Click to zoom';

      figure.appendChild(img);
      figure.appendChild(figcaption);
      grid.appendChild(figure);
    }

    // Fallback in case no images load
    setTimeout(() => {
      if (isLoadingHDR) {
        finishHDRLoading();
      }
    }, 5000);
  }

  function finishHDRLoading() {
    isLoadingHDR = false;
    hdrImagesLoaded = Math.min(hdrImagesLoaded + HDR_BATCH_SIZE, TOTAL_HDR_IMAGES);
    
    // Update load more button
    const loadMoreBtn = document.getElementById('load-more-hdr');
    if (loadMoreBtn) {
      if (hdrImagesLoaded >= TOTAL_HDR_IMAGES) {
        loadMoreBtn.style.display = 'none';
      } else {
        loadMoreBtn.textContent = `ğŸ§€ Load More Cheese (${hdrImagesLoaded}/${TOTAL_HDR_IMAGES})`;
      }
    }
  }

  function loadMoreHDRImages() {
    if (!isLoadingHDR) {
      // For mobile users, load more images at once to get closer to all 151
      const remainingImages = TOTAL_HDR_IMAGES - hdrImagesLoaded;
      const loadAmount = window.innerWidth <= 768 ? Math.min(50, remainingImages) : HDR_BATCH_SIZE;
      loadHDRImages(hdrImagesLoaded, loadAmount);
    }
  }

  // ğŸ“± Force Horizontal Mode Function
  function forceHorizontalMode() {
    if (screen.orientation && screen.orientation.lock) {
      try {
        screen.orientation.lock('landscape').then(() => {
          console.log('Screen locked to landscape mode');
        }).catch((error) => {
          console.log('Could not lock orientation:', error);
        });
      } catch (error) {
        console.log('Orientation lock not supported:', error);
      }
    } else {
      console.log('Screen orientation API not supported');
    }
  }

  // Initialize on DOM load:
  window.addEventListener('DOMContentLoaded', () => showSlide(0));
</script>

</body>
</html>
