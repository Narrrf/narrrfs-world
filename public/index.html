<!DOCTYPE html>
<html lang="en">
<?php
// Include Discord invite configuration
require_once 'discord-invite.php';
?>
<head>
  <!-- üåê Meta Essentials -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Narrrf's World - Professional Web3 Gaming Platform. Genesis 12.0 featuring Bingo, Blockchain Innovation, and NFT Traits." />
  <meta name="author" content="Narrrf Team" />
  <meta name="robots" content="index, follow" />
  <meta name="keywords" content="Narrrf, Web3, NFT, Blockchain Gaming, Bingo, Traits, $SPOINC, Hytopia, Professional Gaming Platform, Blockchain Innovation" />
  <meta name="theme-color" content="#3b82f6" />
  <meta name="msapplication-TileColor" content="#3b82f6" />
  <meta name="msapplication-TileImage" content="https://narrrfs.world/img/narrrf-logo-professional.png" />

  <!-- üö´ Prevent Game Over and Rotate Device Alerts on Mobile -->
  <script>
    // Override any alert function that might show unwanted messages
    const originalAlert = window.alert;
    window.alert = function(message) {
      // Block any "game over" or "rotate device" related alerts
      if (typeof message === 'string') {
        const lowerMessage = message.toLowerCase();
        if (lowerMessage.includes('game over') || 
            lowerMessage.includes('rotate') || 
            lowerMessage.includes('device') ||
            lowerMessage.includes('orientation')) {
          console.log('Blocked unwanted alert:', message);
          return;
        }
      }
      // Allow other alerts to work normally
      return originalAlert.apply(this, arguments);
    };
  </script>

  <!-- üîó Title & Social Preview -->
  <title>üéØ Narrrf's World ‚Äì Genesis 12.0</title>
  <meta property="og:title" content="Narrrf's World ‚Äì Genesis 12.0" />
  <meta property="og:description" content="Professional Web3 Gaming Platform: Bingo, Traits, and Blockchain Innovation" />
  <meta property="og:image" content="https://narrrfs.world/img/narrrf-logo-professional.png" />
  <meta property="og:url" content="https://narrrfs.world" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Narrrf's World ‚Äì Genesis 12.0" />
  <meta name="twitter:description" content="Professional Web3 Gaming Platform: Bingo, Traits, and Blockchain Innovation" />
  <meta name="twitter:image" content="https://narrrfs.world/img/narrrf-logo-professional.png" />

  <!-- üßÄ Favicon & App Icons -->
  <!-- Primary Favicon -->
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-phantom.png?v=3" />
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-phantom.png?v=3" />
  
  <!-- Apple Touch Icon -->
  <link rel="apple-touch-icon" sizes="180x180" href="favicon-phantom.png?v=3" />
  
  <!-- Shortcut Icon -->
  <link rel="shortcut icon" href="favicon-phantom.png?v=3" type="image/png" />
  
  <!-- Standard favicon.ico fallback -->
  <link rel="icon" href="/favicon.ico" type="image/x-icon" />
  
  <!-- Windows Tile -->
  <meta name="msapplication-TileImage" content="favicon-phantom.png?v=3" />
  <link rel="preload" as="image" href="img/other-gamezone.png">
  <link rel="preload" as="audio" href="sounds/cheese-egg-click.wav">

  <!-- üé® Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- üîó Discord Token of Render System -->
  <script src="discord-config.js"></script>

  <!-- ‚ú® UI Glow + Animation Styles -->
  <style>
@keyframes bounce-slow {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-10px); }
}
.animate-bounce-slow {
  animation: bounce-slow 3s ease-in-out infinite;
}

@keyframes glow-pulse {
  0%, 100% { filter: drop-shadow(0 0 10px #10ff88); }
  50% { filter: drop-shadow(0 0 25px #10ff88); }
}
.animate-glow-bottle {
  animation: glow-pulse 2.5s ease-in-out infinite;
}

    @keyframes labGlow {
      0% { transform: scale(1); opacity: 0.8; }
      100% { transform: scale(1.1); opacity: 1; }
    }
    .animate-glow { animation: labGlow 2s infinite; }

    @keyframes fade-in {
      from {
        opacity: 0;
        transform: scale(0.95);
      }
      to {
        opacity: 1;
        transform: scale(1);
      }
    }

    .animate-fade-in {
      animation: fade-in 0.3s ease-out;
    }

    :root {
      --primary-color: #f472b6;
      --secondary-color: #3b82f6;
    }

    /* ü•ö Final Easter Egg Glow */
    .egg-flash {
      animation: eggFlash 1.5s ease-in-out infinite;
    }
    @keyframes eggFlash {
      0%, 100% { box-shadow: 0 0 12px #fde68a; }
      50% { box-shadow: 0 0 22px #facc15; }
    }

    @keyframes fade-in { from { opacity: 0; } to { opacity: 1; } }
    .animate-fade-in { animation: fade-in 0.8s ease-out forwards; }

    .soft-glow {
      box-shadow: 0 0 20px rgba(168, 85, 247, 0.4);
    }

    @keyframes fade-in-body { to { opacity: 1; } }
    .animate-fade-in-body { animation: fade-in-body 0.5s ease-out forwards; }
@keyframes bubble1 { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-6px); } }
@keyframes bubble2 { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
@keyframes bubble3 { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-8px); } }

.animate-bubble1 { animation: bubble1 2.5s ease-in-out infinite; }
.animate-bubble2 { animation: bubble2 3.5s ease-in-out infinite 0.5s; }
.animate-bubble3 { animation: bubble3 4s ease-in-out infinite 1s; }
.animate-glow,
.animate-bubble1,
.animate-bubble2,
.animate-bubble3 {
  transform: translateZ(0);
}
@keyframes scaleIn {
  0% {
    transform: scale(0.7);
    opacity: 0;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}
.animate-scaleIn {
  animation: scaleIn 0.6s ease-out forwards;
}

    /* üéØ Boundless Collection Tab Styles */
    .boundless-tab-content {
      transition: all 0.3s ease-in-out;
    }
    
    .boundless-tab-content.hidden {
      opacity: 0;
      transform: translateY(10px);
    }
    
    .boundless-tab-content:not(.hidden) {
      opacity: 1;
      transform: translateY(0);
    }
    
    /* üñºÔ∏è HDR Viewer Landscape Optimizations */
    @media (orientation: landscape) {
      /* Hide menu and other UI elements in landscape for better HDR viewing */
      .landscape\:hidden {
        display: none !important;
      }
      
      /* Hide the main navigation menu in landscape mode only when HDR is active */
      body.hdr-mode header.bg-black {
        display: none !important;
      }
      
      /* Hide the bingo CTA in landscape mode */
      .bg-black.text-center.py-3 {
        display: none !important;
      }
      
      /* Reduce button sizes in landscape */
      .landscape\:min-w-\[60px\] {
        min-width: 60px !important;
      }
      
      .landscape\:text-sm {
        font-size: 0.875rem !important;
      }
      
      .landscape\:px-3 {
        padding-left: 0.75rem !important;
        padding-right: 0.75rem !important;
      }
      
      .landscape\:py-1\.5 {
        padding-top: 0.375rem !important;
        padding-bottom: 0.375rem !important;
      }
      
      .landscape\:text-xs {
        font-size: 0.75rem !important;
      }
      
      .landscape\:opacity-75 {
        opacity: 0.75 !important;
      }
      
      /* Hide horizontal mode button in landscape */
      .landscape\:hidden {
        display: none !important;
      }
    }

    /* üì± Portrait Mode Optimizations */
    @media (orientation: portrait) {
      /* Ensure buttons are visible in portrait */
      .portrait\:block {
        display: block !important;
      }
      
      /* Larger buttons for touch in portrait */
      .portrait\:min-w-\[80px\] {
        min-width: 80px !important;
      }
      
      .portrait\:text-base {
        font-size: 1rem !important;
      }
    }

    /* üßÄ Cheese egg styling */
    .cheese-egg {
      cursor: pointer;
      transition: all 0.3s ease;
      filter: drop-shadow(0 0 5px #facc15);
    }
    
    .cheese-egg:hover {
      transform: scale(1.1);
      filter: drop-shadow(0 0 10px #facc15) brightness(1.2);
    }
    
    /* Pulse animation for hidden cheese eggs */
    @keyframes pulse {
      0% { opacity: 0.7; transform: scale(1); }
      50% { opacity: 1; transform: scale(1.05); }
      100% { opacity: 0.7; transform: scale(1); }
    }
    
    .cheese-egg[style*="animation: pulse"] {
      animation: pulse 2s infinite;
    }
  </style>

  <!-- üõë No JS fallback -->
  <noscript>
    <style>
      #cheese-egg, #cheese-egg-blue, #cheese-egg-finance {
        display: none !important;
      }
    </style>
  </noscript>
</head>

<body class="bg-gradient-to-br from-purple-50 via-pink-100 to-yellow-50 text-gray-900 font-sans min-h-screen opacity-0 animate-fade-in-body">

<!-- üßÄ Enhanced Cheese Eggs (Whole Page Coverage) -->
<!-- These cheese eggs now move across the entire page, not just the roadmap section -->
<a id="cheese-egg" href="profile.html" class="fixed z-[9999]" style="left: 100px; top: 100px;">
  <img src="img/cheese-egg1.png" alt="Cheese Egg" class="w-10 h-10 drop-shadow-lg transition-all duration-300 ease-in-out hover:scale-110" />
</a>
<a id="cheese-egg-finance" href="finances.html" class="fixed z-[9999]" style="left: 200px; top: 200px;">
  <img src="img/cheese-finance.png" alt="Finance Cheese Egg" class="w-10 h-10 drop-shadow-lg transition-all duration-300 ease-in-out hover:scale-110" />
</a>
<a id="cheese-egg-blue" href="whitepaper-pro.html" class="fixed z-[9999]" style="left: 300px; top: 300px;">
  <img src="img/blue-cheese.png" alt="Blue Cheese Egg" class="w-10 h-10 drop-shadow-lg transition-all duration-300 ease-in-out hover:scale-110" />
</a>

<!-- 
üß™ LAB NOTE: INDEX.HTML ‚Äî Genesis 12.0 Certified
------------------------------------------------------------
üåê Portal entry to Narrrf's World: traits, games, bingo, wallet roles

üß† Cheese Egg Engine v2.0 (Enhanced Moving Cheese Riddle System)

üìå Features:
- Cheese eggs now move across the entire page (not just roadmap)
- Bigger size (w-16 h-16 = 64px instead of w-10 h-10 = 40px)
- Fixed positioning for whole page coverage
- Enhanced click tracking with proper API endpoint
- Better user identification (wallet address or Discord ID)
-->

<!-- üîä Preloaded Audio -->
<audio id="cheese-click-audio" src="sounds/cheese-egg-click.wav" preload="auto"></audio>

<!-- üß† Cheese Egg Logic -->
<script>
  const MOVE_INTERVAL = 8000; // Slower movement for bigger cheese
  const CHEESE_SIZE = 40; // Back to original size (was 60)
  const cheeseClickSound = document.getElementById('cheese-click-audio');
  if (cheeseClickSound) cheeseClickSound.volume = 0.8;

  if (!window.fetch) {
    console.warn("‚ùå Fetch not supported ‚Äî egg tracking skipped.");
  }

  // Enhanced move function that works across the whole page with hunting mechanics
  function moveEgg(id) {
    const egg = document.getElementById(id);
    if (!egg) {
      return;
    }

    // Anti-cheating: Add session-based randomization
    const sessionSeed = localStorage.getItem('cheese_session_seed') || Date.now();
    if (!localStorage.getItem('cheese_session_seed')) {
      localStorage.setItem('cheese_session_seed', sessionSeed);
    }
    
    // Use session seed for consistent but unpredictable positioning
    const seededRandom = (min, max) => {
      const x = Math.sin(sessionSeed + Date.now() * 0.0001) * 10000;
      return min + (x - Math.floor(x)) * (max - min);
    };

    // Get viewport and document dimensions for extended movement area
    const viewportWidth = window.innerWidth;
    const viewportHeight = window.innerHeight;
    const documentHeight = Math.max(document.body.scrollHeight, document.documentElement.scrollHeight);
    
    // Extended movement area: 2x viewport width, 3x viewport height (including hidden areas)
    const maxLeft = viewportWidth * 2 - CHEESE_SIZE;
    const maxTop = documentHeight * 1.5 - CHEESE_SIZE;
    
    // Enhanced difficulty: Time-based positioning
    const timeSincePageLoad = Date.now() - (window.pageLoadTime || Date.now());
    const difficultyMultiplier = Math.min(1 + (timeSincePageLoad / 300000), 3); // Gets harder over 5 minutes
    
    // More interesting movement patterns with anti-cheating
    const movementType = Math.floor(seededRandom(0, 4)); // 4 different movement types
    let left, top;
    
    switch (movementType) {
      case 0: // Random jump to any area (now harder)
        left = seededRandom(0, maxLeft);
        top = seededRandom(0, maxTop);
        // 70% chance to be in hidden areas after first 30 seconds
        if (timeSincePageLoad > 30000 && Math.random() > 0.3) {
          if (Math.random() > 0.5) {
            top = seededRandom(-200, -50); // Above viewport
          } else {
            top = seededRandom(documentHeight + 50, documentHeight + 200); // Below viewport
          }
        }
        break;
      case 1: // Edge hunter - prefers edges and corners (harder)
        const edgeChoice = Math.floor(seededRandom(0, 4));
        if (edgeChoice === 0) { // Top edge
          left = seededRandom(0, maxLeft);
          top = seededRandom(-150, -50); // Above viewport
        } else if (edgeChoice === 1) { // Bottom edge
          left = seededRandom(0, maxLeft);
          top = seededRandom(documentHeight + 50, documentHeight + 150); // Below viewport
        } else if (edgeChoice === 2) { // Left edge
          left = seededRandom(-150, -50); // Left of viewport
          top = seededRandom(0, maxTop);
        } else { // Right edge
          left = seededRandom(viewportWidth + 50, viewportWidth + 150); // Right of viewport
          top = seededRandom(0, maxTop);
        }
        break;
      case 2: // Sneaky - prefers hidden areas (very hard)
        left = seededRandom(0, maxLeft);
        if (Math.random() > 0.3) { // 70% chance to be hidden
          if (Math.random() > 0.5) {
            top = seededRandom(-300, -100); // Far above viewport
          } else {
            top = seededRandom(documentHeight + 100, documentHeight + 300); // Far below viewport
          }
        } else {
          top = seededRandom(0, maxTop); // Sometimes visible
        }
        break;
      case 3: // Corner lurker - prefers corners (hardest)
        const cornerChoice = Math.floor(seededRandom(0, 4));
        if (cornerChoice === 0) { // Top-left
          left = seededRandom(-200, -100);
          top = seededRandom(-200, -100);
        } else if (cornerChoice === 1) { // Top-right
          left = seededRandom(viewportWidth + 100, viewportWidth + 200);
          top = seededRandom(-200, -100);
        } else if (cornerChoice === 2) { // Bottom-left
          left = seededRandom(-200, -100);
          top = seededRandom(documentHeight + 100, documentHeight + 200);
        } else { // Bottom-right
          left = seededRandom(viewportWidth + 100, viewportWidth + 200);
          top = seededRandom(documentHeight + 100, documentHeight + 200);
        }
        break;
    }
    
    // Anti-reload protection: Add random offset based on session
    const sessionOffset = parseInt(sessionSeed.toString().slice(-4));
    left += (sessionOffset % 200) - 100;
    top += ((sessionOffset * 2) % 200) - 100;
    
    // Ensure cheese stays within reasonable bounds
    left = Math.max(-200, Math.min(maxLeft + 200, left));
    top = Math.max(-200, Math.min(maxTop + 200, top));

    egg.style.position = 'fixed'; // Fixed positioning for whole page coverage
    egg.style.left = `${left}px`;
    egg.style.top = `${top}px`;
    egg.style.zIndex = '9999'; // Ensure cheese is always on top
    
    // Enhanced visual indicator for hidden areas
    const isInViewport = left >= 0 && left <= viewportWidth && top >= 0 && top <= viewportHeight;
    if (!isInViewport) {
      // Add a subtle glow when cheese is hidden
      egg.style.filter = 'drop-shadow(0 0 8px #facc15) brightness(1.2)';
      // Add pulsing effect for hidden cheese
      egg.style.animation = 'pulse 2s infinite';
    } else {
      egg.style.filter = 'drop-shadow(0 0 5px #facc15)';
      egg.style.animation = 'none';
    }
    
    // Add some visual feedback for hunting
    egg.style.transition = 'all 0.8s ease-in-out';
    setTimeout(() => {
      egg.style.transition = 'none';
    }, 800);
  }

  // Initialize cheese eggs across the whole page
  window.addEventListener('DOMContentLoaded', () => {
    // Track page load time for difficulty scaling
    window.pageLoadTime = Date.now();
    
    // üßπ Clean up any existing status bar on page load
    cleanupStatusBar();
    
    // Ensure HDR mode class is removed on page load
    document.body.classList.remove('hdr-mode');
    
    // Force remove any existing status bar elements
    const existingStatusBars = document.querySelectorAll('#hdr-status-bar');
    existingStatusBars.forEach(bar => bar.remove());
    
    const eggIds = ['cheese-egg', 'cheese-egg-finance', 'cheese-egg-blue'];

    eggIds.forEach((id, index) => {
      // More varied timing for each cheese egg
      const baseDelay = 1000 + Math.random() * 2000; // 1-3 seconds initial delay
      const baseInterval = 3000 + Math.random() * 4000; // 3-7 seconds between moves
      
      // Each cheese egg has different personality
      const personality = index % 3; // 3 different personalities
      let delay, interval;
      
      switch (personality) {
        case 0: // Fast and sneaky
          delay = baseDelay * 0.5;
          interval = baseInterval * 0.7;
          break;
        case 1: // Normal hunter
          delay = baseDelay;
          interval = baseInterval;
          break;
        case 2: // Slow and patient
          delay = baseDelay * 1.5;
          interval = baseInterval * 1.3;
          break;
      }

      // Initial positioning - start immediately
      setTimeout(() => {
        moveEgg(id); // Restored: This moves the cheese eggs
        // Set up continuous movement with some randomness
        setInterval(() => {
          // 20% chance to move twice in quick succession
          if (Math.random() < 0.2) {
            moveEgg(id);
            setTimeout(() => moveEgg(id), 500);
          } else {
            moveEgg(id);
          }
        }, interval); // Restored: This keeps them moving
      }, delay + index * 300); // Staggered start

      const egg = document.getElementById(id);
      if (egg) {
        // Enhanced click handler with better tracking
        egg.addEventListener('click', async (event) => {
          // Prevent default link behavior to allow tracking to complete
          event.preventDefault();
          event.stopPropagation();
          
          // Check if egg element still exists before accessing its style
          if (!egg) {
            console.warn('Egg element not found:', id);
            return;
          }
          
          // Visual feedback for successful hunt
          egg.style.transform = 'scale(1.3) rotate(360deg)';
          egg.style.filter = 'brightness(1.5) drop-shadow(0 0 10px #facc15)';
          
          // Reset visual effects after animation
          setTimeout(() => {
            if (egg) {
              egg.style.transform = 'scale(1) rotate(0deg)';
              egg.style.filter = 'brightness(1) drop-shadow(0 0 5px #facc15)';
            }
          }, 300);
          
          // Play sound with better error handling
          if (cheeseClickSound) {
            try {
              cheeseClickSound.currentTime = 0; // Reset audio
              await cheeseClickSound.play();
            } catch (e) {
              console.log('Audio play failed:', e);
            }
          }
          
          // Get user wallet or Discord ID
          const currentUserWallet = localStorage.getItem('walletAddress') || 
                                   localStorage.getItem('discord_id') || 
                                   (localStorage.getItem('session_id') || 
                                    (() => {
                                      const sessionId = 'session_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
                                      localStorage.setItem('session_id', sessionId);
                                      return sessionId;
                                    })());
          
          console.log('Tracking cheese click for user:', currentUserWallet, 'egg:', id);
          
          // Track the click (simplified - no screenshot for now)
          try {
            console.log('üöÄ Sending API request to /api/track-egg-click.php...');
            
            const response = await fetch('/api/track-egg-click.php', {
              method: 'POST',
              body: JSON.stringify({
                user_wallet: currentUserWallet,
                egg_id: id,
                timestamp: Date.now(),
                quest_id: null, // Simplified for now
                screenshot: null, // No screenshot for now
                hunt_context: 'simplified_hunting_v3'
              }),
              headers: { 'Content-Type': 'application/json' }
            });
            
            console.log('üì° API response status:', response.status);
            
            if (response.ok) {
              const result = await response.json();
              console.log('‚úÖ Cheese click tracked successfully:', result);
              
              // Add a longer delay to see the success message
              setTimeout(() => {
                // Navigate to the target page after tracking is complete
                const targetUrl = egg ? egg.getAttribute('href') : null;
                if (targetUrl) {
                  console.log('üßÄ Navigating to:', targetUrl);
                  window.location.href = targetUrl;
                }
              }, 1000); // Increased delay to 1 second
            } else {
              console.warn('‚ùå Failed to track cheese click - response not ok');
              const errorText = await response.text();
              console.warn('‚ùå Error response:', errorText);
              
              // Still navigate even if tracking fails
              const targetUrl = egg ? egg.getAttribute('href') : null;
              if (targetUrl) {
                setTimeout(() => {
                  console.log('üßÄ Navigating to:', targetUrl, '(after error)');
                  window.location.href = targetUrl;
                }, 1000);
              }
            }
          } catch (error) {
            console.warn('‚ùå Error tracking cheese click:', error);
            // Still navigate even if tracking fails
            const targetUrl = egg ? egg.getAttribute('href') : null;
            if (targetUrl) {
              setTimeout(() => {
                console.log('üßÄ Navigating to:', targetUrl, '(after catch)');
                window.location.href = targetUrl;
              }, 1000);
            }
          }
        });

        // Set initial position
        egg.style.position = 'fixed';
        egg.style.zIndex = '9999';
      }
    });
  });

  // Handle window resize to keep cheese in bounds
  window.addEventListener('resize', () => {
    const eggIds = ['cheese-egg', 'cheese-egg-finance', 'cheese-egg-blue'];
    eggIds.forEach(id => {
      const egg = document.getElementById(id);
      if (egg) {
        const rect = egg.getBoundingClientRect();
        const maxLeft = window.innerWidth - CHEESE_SIZE;
        const maxTop = window.innerHeight - CHEESE_SIZE;
        
        if (rect.left > maxLeft) egg.style.left = `${maxLeft}px`;
        if (rect.top > maxTop) egg.style.top = `${maxTop}px`;
      }
    });
  });

  // Winner popup function for quest completion
  function showWinnerPopup(message, reward, quest) {
    // Create popup overlay
    const overlay = document.createElement('div');
    overlay.style.cssText = `
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      z-index: 10000;
      display: flex;
      justify-content: center;
      align-items: center;
      animation: fadeIn 0.3s ease-out;
    `;

    // Create popup content
    const popup = document.createElement('div');
    popup.style.cssText = `
      background: linear-gradient(135deg, #facc15 0%, #f59e0b 100%);
      border-radius: 20px;
      padding: 30px;
      text-align: center;
      max-width: 400px;
      margin: 20px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
      animation: scaleIn 0.3s ease-out;
    `;

    popup.innerHTML = `
      <div style="font-size: 48px; margin-bottom: 20px;">üßÄüéØ</div>
      <h2 style="color: #1f2937; font-size: 24px; font-weight: bold; margin-bottom: 15px;">
        ${message || 'üéØ Congratulations! You found the cheese!'}
      </h2>
      <p style="color: #374151; font-size: 18px; margin-bottom: 20px;">
        Quest Reward: <strong>${reward?.toLocaleString() || 0} $DSPOINC</strong>
      </p>
      ${quest ? `
        <p style="color: #6b7280; font-size: 14px; margin-bottom: 20px;">
          Quest: ${quest.description}
        </p>
      ` : ''}
      <p style="color: #6b7280; font-size: 14px; margin-bottom: 20px;">
        A Discord ticket has been created for admin review!
      </p>
      <button onclick="this.closest('.winner-popup-overlay').remove()" 
              style="background: #1f2937; color: white; border: none; padding: 12px 24px; 
                     border-radius: 10px; font-size: 16px; cursor: pointer; 
                     transition: background 0.3s ease;">
        üéâ Awesome!
      </button>
    `;

    overlay.appendChild(popup);
    overlay.className = 'winner-popup-overlay';
    document.body.appendChild(overlay);

    // Auto-remove after 10 seconds
    setTimeout(() => {
      if (overlay.parentNode) {
        overlay.remove();
      }
    }, 10000);
  }

  // Progress message function for cheese hunting
  function showProgressMessage(message, progress) {
    // Create progress notification
    const notification = document.createElement('div');
    notification.style.cssText = `
      position: fixed;
      top: 20px;
      right: 20px;
      background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
      color: white;
      padding: 15px 20px;
      border-radius: 10px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
      z-index: 9999;
      max-width: 300px;
      animation: slideInRight 0.3s ease-out;
    `;

    notification.innerHTML = `
      <div style="display: flex; align-items: center; gap: 10px;">
        <div style="font-size: 24px;">üßÄ</div>
        <div>
          <div style="font-weight: bold; margin-bottom: 5px;">${message}</div>
          <div style="font-size: 14px; opacity: 0.9;">${progress}</div>
        </div>
      </div>
    `;

    document.body.appendChild(notification);

    // Auto-remove after 5 seconds
    setTimeout(() => {
      if (notification.parentNode) {
        notification.style.animation = 'slideOutRight 0.3s ease-out';
        setTimeout(() => {
          if (notification.parentNode) {
            notification.remove();
          }
        }, 300);
      }
    }, 5000);
  }

  // Add CSS animations for popup and progress messages
  const style = document.createElement('style');
  style.textContent = `
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    @keyframes scaleIn {
      from { transform: scale(0.8); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }
    @keyframes slideInRight {
      from { transform: translateX(100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }
    @keyframes slideOutRight {
      from { transform: translateX(0); opacity: 1; }
      to { transform: translateX(100%); opacity: 0; }
    }
  `;
  document.head.appendChild(style);
</script>
<!-- ‚úÖ End Enhanced Cheese Engine v2.0 -->

<!-- üéØ Genesis 12.0 Live Banner -->
<div class="fixed top-0 left-0 w-full bg-yellow-400 text-yellow-900 text-sm text-center py-2 px-4 font-semibold shadow-md z-50 animate-pulse">
  üéØ Genesis 12.0 is live! ‚Üí <a href="/profile.html" class="underline hover:text-pink-600">Login and find the cheese</a> üé∞
</div>

<!-- ‚è´ Spacer to offset fixed banner height -->
<div class="h-10"></div>

<!-- üé¥ Floating NFT Verification Notification -->
<div id="nft-verification-notification" class="fixed top-20 right-2 md:right-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white p-3 md:p-4 rounded-xl shadow-2xl z-50 max-w-[280px] md:max-w-sm transform translate-x-full transition-all duration-500 ease-out border border-purple-400/30">
  <div class="flex items-start gap-2 md:gap-3">
    <div class="text-xl md:text-2xl animate-bounce">üé¥</div>
    <div class="flex-1 min-w-0">
      <h4 class="font-bold text-sm mb-1">NFT Holder?</h4>
      <p class="text-xs text-purple-100 mb-3 leading-relaxed">Verify your NFTs to unlock exclusive Discord roles and features!</p>
      <div class="flex gap-2">
        <a href="/profile.html#nft-verification" 
           class="bg-white text-purple-600 hover:bg-purple-50 text-xs font-semibold px-3 py-1.5 rounded-lg transition-all duration-300 transform hover:scale-105 shadow-md">
          üîç Verify Now
        </a>
        <button onclick="dismissNFTNotification()" 
                class="text-purple-200 hover:text-white text-xs px-2 py-1.5 rounded transition-colors hover:bg-white/10">
          ‚úï
        </button>
      </div>
    </div>
  </div>
</div>

<!-- üß≠ Sticky Navigation Bar -->
<header class="bg-black text-white py-3 px-6 shadow-md sticky top-10 z-40 w-full">
  <div class="max-w-6xl mx-auto flex justify-between items-center">
    <a href="index.html" class="text-xl font-bold tracking-tight">üß† Narrrf's World</a>
    <nav class="space-x-3 text-sm md:text-base flex items-center flex-wrap justify-end">
      <a href="index.html" class="text-pink-400 font-semibold">Home</a>
      <a href="mint.html" class="hover:text-pink-400">Mint</a>
      <a href="whitepaper.html" class="hover:text-pink-400">Whitepaper</a>
      <a href="get-roles.html" class="hover:text-pink-400">Get Roles</a>
      <a href="project-updates.html" class="hover:text-pink-400">Updates</a>
      <a href="faq.html" class="hover:text-pink-400">FAQ</a>
      <button id="connect-wallet-btn" onclick="connectWallet()" class="ml-2 mt-2 md:mt-0 bg-purple-600 hover:bg-purple-700 text-white font-semibold py-1 px-4 rounded-xl shadow text-xs">
        üîå Connect
      </button>
      <img id="user-avatar" src="img/cheese.png" alt="PFP" class="hidden w-8 h-8 rounded-full border-2 border-white ml-2 shadow-lg" />
      <button id="wallet-disconnect" onclick="disconnectWallet()" class="hidden ml-2 text-sm bg-red-500 hover:bg-red-600 text-white rounded-full px-3 py-1 shadow">
        ‚ùå
      </button>
    </nav>
  </div>
</header>

<!-- üéÆ Bingo CTA -->
<div class="bg-black text-center py-3 z-30 relative">
  <a href="/Bingo.html"
     class="inline-block bg-yellow-400 hover:bg-yellow-500 text-black text-lg md:text-xl font-bold px-6 py-3 rounded-full shadow-lg animate-pulse transition">
    üßÄ Use Narrrf's Golden Bingo Vault Now!
  </a>
</div>

<!-- üé® Hero Section: Game Zone + Bottle -->
<section class="relative z-10 pt-16 pb-20 bg-gradient-to-br from-pink-100 via-fuchsia-200 to-yellow-100 overflow-hidden border-b-4 border-yellow-300 shadow-inner">

  <!-- üí´ Animated Background Decorations -->
  <div class="absolute inset-0 bg-[radial-gradient(ellipse_at_top_left,_var(--tw-gradient-stops))] from-lime-200 via-pink-100 to-transparent opacity-15 animate-pulse pointer-events-none"></div>
  <div class="absolute bottom-0 left-0 w-32 h-32 bg-green-300 rounded-full blur-2xl opacity-20 animate-bounce-slow pointer-events-none"></div>
  <div class="absolute top-10 right-10 w-24 h-24 bg-yellow-300 rounded-full blur-xl opacity-25 animate-bounce-slow pointer-events-none" style="animation-delay: 1s;"></div>
  <div class="absolute top-1/3 left-1/4 w-16 h-16 bg-pink-300 rounded-full blur-lg opacity-20 animate-bounce-slow pointer-events-none" style="animation-delay: 2s;"></div>

  <!-- üéÆ Game Card + Bottle Art -->
  <div class="max-w-6xl mx-auto flex flex-col md:flex-row items-center justify-center gap-10 px-6 relative z-10">

    <!-- üß† Game Card -->
    <div class="relative z-20 text-center py-6 px-4 bg-gradient-to-r from-yellow-300 via-pink-500 to-purple-600 shadow-lg rounded-xl hover:scale-105 transition-transform duration-300 w-full md:w-1/2">
      <a href="/profile.html">
        <img src="img/other-gamezone.png" alt="Arcade Mouse Portal"
             class="mx-auto w-20 md:w-24 mb-4 drop-shadow-lg rounded-lg opacity-0 animate-fade-in" />
        <h2 class="text-3xl md:text-4xl font-extrabold text-black uppercase tracking-widest mb-1">
          Enter the Game Zone
        </h2>
        <p class="text-sm text-white italic">
          üèÜ Play Tetris + Snake ¬∑ Save Score ¬∑ Unlock Traits!
        </p>
      </a>
    </div>

<!-- üß™ Glowing Brain Bottle -->
<div class="relative animate-bounce-slow mx-auto md:mx-0">
  <img src="img/lab-bottle4.png"
       alt="Glowing Bottle from Narrrf's Lab"
       class="w-24 md:w-36 rotate-[8deg] animate-glow-bottle" />
  <div class="absolute top-0 left-0 w-full h-full pointer-events-none">
    <div class="absolute w-3 h-3 bg-green-400 rounded-full blur-md animate-bubble1"></div>
    <div class="absolute w-4 h-4 bg-green-300 rounded-full blur-sm animate-bubble2"></div>
    <div class="absolute w-2.5 h-2.5 bg-lime-400 rounded-full blur-lg animate-bubble3"></div>
  </div>
</div>

</section>


<!-- üí¨ Hero Copy + CTAs -->
<div class="text-center max-w-xl mx-auto mt-10 relative z-10">
  <h1 class="text-4xl md:text-5xl font-extrabold mb-4 text-gray-900 drop-shadow-lg">
    Narrrf's World ‚Äì Genesis 12.0
  </h1>
  <p class="text-base md:text-lg text-gray-800">
    Let's leave the matrix... and take over Web3. A cartoon-chaotic Web3 universe powered by NFTs, poker, and pure community.
  </p>

  <!-- üìú Genesis Whitepaper Button (Standalone) -->
  <div class="text-center mt-6 px-6">
    <a href="whitepaper-pro.html"
       class="inline-block bg-gray-900 text-yellow-300 font-bold px-6 py-3 rounded-full shadow-md hover:bg-yellow-500 hover:text-black transition">
      üìú View the Genesis Whitepaper
    </a>
    <p class="text-xs text-gray-500 italic mt-2">
      Strategic scroll plan ¬∑ Phase 5 trait systems ¬∑ Genesis lore encoded
    </p>
  </div>

  <!-- üéØ CTA Button Row -->
  <div class="mt-6 mb-4 flex flex-col sm:flex-row gap-3 flex-wrap justify-center">
    <!-- üîê Login with Discord -->
    <a href="https://discord.com/oauth2/authorize?client_id=1357927342265204858&response_type=code&redirect_uri=https%3A%2F%2Fnarrrfs.world%2Fapi%2Fauth%2Fcallback.php&scope=guilds+identify+guilds.members.read"
       class="bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-6 rounded-full shadow transition">
      üîê Login with Discord
    </a>

    <!-- üí¨ Join Discord -->
                    <a href="<?php echo $discord_url; ?>" target="_blank"
       class="bg-pink-600 hover:bg-pink-700 text-white font-semibold py-2 px-6 rounded-full shadow transition">
      üí¨ Join Discord
    </a>

    <!-- üß¨ Mint Now -->
    <a href="mint.html"
       class="bg-white border border-pink-600 text-pink-600 font-semibold py-2 px-6 rounded-full shadow hover:bg-pink-50 transition">
      üß¨ Mint Now
    </a>
  </div>
</div>



<!-- ‚úÖ Cleanly closes hero section visual layout -->

<!-- üé¥ NFT Verification Section - Gateway to Profile -->
<section class="relative py-16 px-6 bg-gradient-to-br from-purple-900 via-indigo-800 to-blue-900 text-center shadow-2xl border-t-4 border-purple-400 overflow-hidden">
  
  <!-- ‚ú® Animated Background Elements -->
  <div class="absolute inset-0 bg-[radial-gradient(ellipse_at_center,_var(--tw-gradient-stops))] from-purple-400/20 via-transparent to-transparent opacity-30 animate-pulse pointer-events-none"></div>
  <div class="absolute top-10 left-10 w-20 h-20 bg-purple-400 rounded-full blur-xl opacity-20 animate-bounce-slow pointer-events-none"></div>
  <div class="absolute bottom-10 right-10 w-16 h-16 bg-blue-400 rounded-full blur-lg opacity-25 animate-bounce-slow pointer-events-none" style="animation-delay: 1s;"></div>
  
  <div class="max-w-4xl mx-auto relative z-10">
    
    <!-- üéØ Section Header -->
    <div class="mb-8">
      <h2 class="text-3xl md:text-4xl font-extrabold text-white mb-4 flex items-center justify-center gap-3">
        <span class="text-2xl">üé¥</span>
        NFT Holder Verification
        <span class="text-2xl">üîê</span>
      </h2>
      <p class="text-lg text-purple-200 max-w-2xl mx-auto">
        Connect your Phantom wallet and verify your NFT ownership to unlock exclusive Discord roles and access to special features!
      </p>
    </div>

    <!-- üßÄ Verification Benefits -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
      <div class="bg-purple-800/50 rounded-xl p-6 border border-purple-600 hover:border-purple-400 transition-all duration-300 hover:scale-105">
        <div class="text-3xl mb-3">üèÜ</div>
        <h3 class="text-lg font-semibold text-white mb-2">Holder Role</h3>
        <p class="text-purple-200 text-sm">Get the exclusive "üèÜ Holder" role for Genesis Genetic NFT owners</p>
      </div>
      
      <div class="bg-indigo-800/50 rounded-xl p-6 border border-indigo-600 hover:border-indigo-400 transition-all duration-300 hover:scale-105">
        <div class="text-3xl mb-3">üé¥</div>
        <h3 class="text-lg font-semibold text-white mb-2">VIP Access</h3>
        <p class="text-indigo-200 text-sm">Unlock VIP Holder role and access to premium content</p>
      </div>
      
      <div class="bg-blue-800/50 rounded-xl p-6 border border-blue-600 hover:border-blue-400 transition-all duration-300 hover:scale-105">
        <div class="text-3xl mb-3">üîì</div>
        <h3 class="text-lg font-semibold text-white mb-2">Special Features</h3>
        <p class="text-blue-200 text-sm">Access to exclusive games, traits, and community features</p>
      </div>
    </div>

    <!-- üöÄ CTA Buttons -->
    <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
      
      <!-- üîó Go to Profile for Verification -->
      <a href="/profile.html#nft-verification" 
         class="group inline-flex items-center gap-3 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-bold px-8 py-4 rounded-xl shadow-2xl transition-all duration-300 transform hover:scale-105 hover:shadow-purple-500/25">
        <span class="text-xl">üîç</span>
        <span>Verify My NFTs</span>
        <span class="text-sm opacity-80 group-hover:translate-x-1 transition-transform">‚Üí</span>
      </a>
      
      <!-- üì± Quick Info -->
      <div class="text-center sm:text-left">
        <p class="text-purple-200 text-sm mb-2">Powered by Helius APIs</p>
        <p class="text-purple-300 text-xs opacity-80">Secure ‚Ä¢ Fast ‚Ä¢ Reliable</p>
      </div>
    </div>

    <!-- ‚ÑπÔ∏è How It Works -->
    <div class="mt-8 bg-black/30 rounded-xl p-6 border border-purple-500/30 max-w-3xl mx-auto">
      <h3 class="text-lg font-semibold text-purple-200 mb-4 flex items-center justify-center gap-2">
        <span>üîç</span>
        How NFT Verification Works
      </h3>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-purple-200">
        <div class="flex items-start gap-3">
          <span class="text-purple-400 font-bold text-lg">1.</span>
          <div>
            <strong class="text-purple-100">Connect Wallet:</strong> Link your Phantom wallet securely
          </div>
        </div>
        <div class="flex items-start gap-3">
          <span class="text-purple-400 font-bold text-lg">2.</span>
          <div>
            <strong class="text-purple-100">Auto-Detect:</strong> We scan for your NFT collections
          </div>
        </div>
        <div class="flex items-start gap-3">
          <span class="text-purple-400 font-bold text-lg">3.</span>
          <div>
            <strong class="text-purple-100">Sign Message:</strong> Prove wallet ownership cryptographically
          </div>
        </div>
        <div class="flex items-start gap-3">
          <span class="text-purple-400 font-bold text-lg">4.</span>
          <div>
            <strong class="text-purple-100">Get Roles:</strong> Receive Discord roles instantly
          </div>
        </div>
      </div>
    </div>

  </div>
</section>

<!-- ‚úÖ Promo Section: VIP collection + MP4 + CTA -->

<section class="relative py-32 px-6 bg-gradient-to-br from-yellow-100 via-pink-50 to-white text-center shadow-inner border-t-4 border-yellow-300">
  <h2 class="text-3xl md:text-4xl font-extrabold text-gray-900 mb-6">
    üî• Genesis VIP Collection ‚Äî Proud of Our Holders!
  </h2>

  <p class="text-md md:text-lg text-gray-700 max-w-xl mx-auto mb-4">
    A massive shoutout to our early VIPs who believed in the cheese. üß†üßÄ  
    The mint is near ‚Äî and those who held, held strong. We see you. We thank you.
  </p>



<!-- üß¨ Cheese Lab Countdown ‚Äì Linked to Mint -->
<div class="my-16 mx-auto max-w-4xl">
  <h3 class="text-2xl font-bold text-center mb-6 text-gray-800">üß¨ Mint Stages</h3>
  
  <div class="grid md:grid-cols-3 gap-4 mb-6">
    <!-- WL Stage -->
    <div class="bg-blue-50 border-2 border-blue-300 rounded-xl p-4 text-center shadow-lg">
      <div class="flex items-center justify-center mb-2">
        <span class="text-green-600 text-xl mr-2">üîí</span>
        <span class="font-bold text-blue-800">WL</span>
      </div>
      <div class="text-sm text-blue-700 mb-2">ENDS IN</div>
      <div id="wl-countdown" class="text-lg font-bold text-blue-900">...</div>
      <div class="text-xs text-blue-600 mt-2">UNLIMITED per Wallet ‚Ä¢ 0.1425 SOL ‚Ä¢ Ends when Public starts</div>
    </div>
    
    <!-- Redemption Stage -->
    <div class="bg-gray-50 border-2 border-gray-300 rounded-xl p-4 text-center shadow-lg">
      <div class="flex items-center justify-center mb-2">
        <span class="text-gray-500 text-xl mr-2">üîí</span>
        <span class="font-bold text-gray-700">Redemption</span>
      </div>
      <div class="text-sm text-gray-600 mb-2">STARTS IN</div>
      <div id="redemption-countdown" class="text-lg font-bold text-gray-800">...</div>
      <div class="text-xs text-gray-500 mt-2">UNLIMITED per Wallet ‚Ä¢ 0.4275 SOL</div>
    </div>
    
    <!-- Public Stage -->
    <div class="bg-gray-50 border-2 border-gray-300 rounded-xl p-4 text-center shadow-lg">
      <div class="flex items-center justify-center mb-2">
        <span class="text-gray-500 text-xl mr-2">üîí</span>
        <span class="font-bold text-gray-700">Public</span>
      </div>
      <div class="text-sm text-gray-600 mb-2">STARTS IN</div>
      <div id="public-countdown" class="text-lg font-bold text-gray-800">...</div>
      <div class="text-xs text-gray-500 mt-2">UNLIMITED per Wallet ‚Ä¢ 0.285 SOL</div>
    </div>
  </div>
  
  <div class="text-center">
    <a href="mint.html"
       class="inline-block px-8 py-4 rounded-full border-3 border-yellow-300 bg-yellow-100 text-yellow-900 font-bold text-lg shadow-xl animate-bounce-slow ring-2 ring-yellow-200 ring-offset-2 flex items-center gap-4 hover:bg-yellow-200 transition-all duration-200 transform hover:scale-105 mx-auto w-fit">
      <span class="text-2xl">üß¨</span>
      <span class="whitespace-nowrap">Go to Mint Page</span>
    </a>
  </div>
</div>

  <p class="text-md md:text-lg text-gray-700 max-w-xl mx-auto mb-4">
    Our VIP cheese has already hit the market. You're looking at a  
<span class="font-bold text-pink-600 underline underline-offset-4 decoration-yellow-400">
  ‚è≥ 10 SOL floor ‚Äî untouched since mint
</span>  
on Magic Eden.  
The next wave is close ‚Äî don't miss the real Genesis scroll.
  </p>

  <!-- üéØ Magic Eden Collections CTA -->
  <div class="my-12 space-y-4">
    <!-- VIP Collection (SOL) -->
    <div class="text-center">
      <a href="https://magiceden.io/marketplace/narrrf_genesis_vip_drop" target="_blank"
         class="inline-block bg-black text-yellow-300 font-extrabold px-8 py-4 rounded-full shadow-xl hover:bg-yellow-300 hover:text-black transition duration-300 animate-pulse transform hover:scale-105">
        üßÄ View VIP Collection on Magic Eden (SOL) ‚Üí
      </a>
    </div>
    
    <!-- Boundless Collection Tabs - Multiple Marketplace Options -->
    <div class="text-center">
      <div class="bg-gray-100 rounded-lg p-2 inline-block">
        <!-- Tab Buttons -->
        <div class="flex space-x-2 mb-4">
                       <button onclick="showBoundlessTab('magic-eden')"
                     id="boundless-tab-magic-eden"
                     class="px-4 py-2 rounded-lg font-semibold transition-all duration-300 bg-yellow-400 text-black hover:bg-yellow-300">
               üßÄ Magic Eden (ETH)
             </button>
          <button onclick="showBoundlessTab('foundation')" 
                  id="boundless-tab-foundation"
                  class="px-4 py-2 rounded-lg font-semibold transition-all duration-300 bg-gray-300 text-gray-700 hover:bg-gray-200">
            üåü Foundation (ETH)
          </button>
        </div>
        
        <!-- Tab Content -->
                   <div id="boundless-content-magic-eden" class="boundless-tab-content">
             <a href="https://magiceden.io/collections/ethereum/narrrfs-world-genesis-genetic" target="_blank"
                class="inline-block bg-black text-yellow-300 font-extrabold px-8 py-4 rounded-full shadow-xl hover:bg-yellow-300 hover:text-black transition duration-300 animate-pulse transform hover:scale-105">
               üßÄ Boundless Collection on Magic Eden (ETH) ‚Üí
             </a>
           </div>
        
        <div id="boundless-content-foundation" class="boundless-tab-content hidden">
          <a href="https://foundation.app/collection/spoinc" target="_blank"
             class="inline-block bg-gradient-to-r from-purple-600 to-blue-600 text-white font-extrabold px-8 py-4 rounded-full shadow-xl hover:from-purple-700 hover:to-blue-700 transition duration-300 animate-pulse transform hover:scale-105">
            üåü Boundless Collection on Foundation (ETH) ‚Üí
          </a>
        </div>
      </div>
    </div>
    
    <!-- Genesis Genetic Collection (SOL) -->
    <div class="text-center">
      <a href="https://magiceden.io/marketplace/narrrfs_world_genesis_genetic" target="_blank"
         class="inline-block bg-gradient-to-r from-green-600 to-teal-600 text-white font-extrabold px-8 py-4 rounded-full shadow-xl hover:from-green-700 hover:to-teal-700 transition duration-300 animate-pulse transform hover:scale-105">
        üß¨ Genesis Genetic Collection (SOL) ‚Üí
      </a>
    </div>
  </div>

  <!-- üé• MP4 Promo -->
  <video autoplay muted loop playsinline class="mx-auto rounded-xl shadow-lg max-w-[90%] md:max-w-2xl border-4 border-yellow-400 my-12">
    <source src="videos/genesis-vip-promo.mp4" type="video/mp4" />
    Your browser does not support the video tag.
  </video>

  
 <!-- üß† VIP Art Download Promo -->
<div class="mt-16 bg-yellow-50 border-2 border-yellow-300 rounded-xl px-6 py-5 shadow-md max-w-2xl mx-auto text-center">
  <h3 class="text-xl font-bold text-yellow-800 mb-2">üéÅ VIP Art Drop ‚Äî Ultra HD Now Available!</h3>
  <p class="text-gray-700 text-sm md:text-base mb-4">
    Hold a VIP pass? Grab your exclusive <strong>22MB Full HD</strong> NFT artwork now.
    Just log in and head to your profile to unlock it.
  </p>
  <a href="profile.html"
     class="inline-block bg-pink-600 hover:bg-pink-700 text-white font-bold py-2 px-6 rounded-full shadow-md transition duration-300">
    üß¨ Check if You're VIP ‚Üí
  </a>
</div>

<!-- üß¨ Cheese Lab Multi-Stage Countdown Script-->
<script>
              function updateCountdowns() {
         const now = new Date();
         
         // WL Stage - Ends when Public Mint starts (August 29th, 2025)
         const wlEndDate = new Date('2025-08-29T00:00:00');
         const wlDiff = wlEndDate - now;
         
         // Redemption Stage - Starts September 26th, 2025
         const redemptionStartDate = new Date('2025-09-26T00:00:00');
         const redemptionDiff = redemptionStartDate - now;
         
         // Public Stage - Starts August 29th, 2025
         const publicStartDate = new Date('2025-08-29T00:00:00');
         const publicDiff = publicStartDate - now;
         
         // Update WL countdown
         const wlEl = document.getElementById("wl-countdown");
         if (wlEl) {
           if (wlDiff <= 0) {
             wlEl.innerText = "‚úÖ ENDED";
           } else {
             const wlDays = Math.floor(wlDiff / (1000 * 60 * 60 * 24));
             const wlHours = Math.floor((wlDiff / (1000 * 60 * 60)) % 24);
             const wlMins = Math.floor((wlDiff / (1000 * 60)) % 60);
             const wlSecs = Math.floor((wlDiff / 1000) % 60);
             wlEl.innerText = `${wlDays}d ${wlHours}h ${wlMins}m ${wlSecs}s`;
           }
         }
  
  // Update Redemption countdown
  const redemptionEl = document.getElementById("redemption-countdown");
  if (redemptionEl) {
    if (redemptionDiff <= 0) {
      redemptionEl.innerText = "‚úÖ STARTED";
    } else {
      const redemptionDays = Math.floor(redemptionDiff / (1000 * 60 * 60 * 24));
      const redemptionHours = Math.floor((redemptionDiff / (1000 * 60 * 60)) % 24);
      const redemptionMins = Math.floor((redemptionDiff / (1000 * 60)) % 60);
      const redemptionSecs = Math.floor((redemptionDiff / 1000) % 60);
      redemptionEl.innerText = `${redemptionDays}d ${redemptionHours}h ${redemptionMins}m ${redemptionSecs}s`;
    }
  }
  
  // Update Public countdown
  const publicEl = document.getElementById("public-countdown");
  if (publicEl) {
    if (publicDiff <= 0) {
      publicEl.innerText = "‚úÖ STARTED";
    } else {
      const publicDays = Math.floor(publicDiff / (1000 * 60 * 60 * 24));
      const publicHours = Math.floor((publicDiff / (1000 * 60 * 60)) % 24);
      const publicMins = Math.floor((publicDiff / (1000 * 60)) % 60);
      const publicSecs = Math.floor((publicDiff / 1000) % 60);
      publicEl.innerText = `${publicDays}d ${publicHours}h ${publicMins}m ${publicSecs}s`;
    }
  }
}

// Initialize countdowns when DOM is loaded
document.addEventListener('DOMContentLoaded', function() {
  updateCountdowns();
  setInterval(updateCountdowns, 1000);
});
</script>

</section>

<!-- ‚úÖ END Promo Section: VIP collection + MP4 + CTA -->

<!-- ‚úÖ Promo Section: 2nd Collection + CTA -->
<section class="relative py-32 px-6 bg-gradient-to-br from-purple-100 via-blue-50 to-white text-center shadow-inner border-t-4 border-purple-300">
  <h2 class="text-3xl md:text-4xl font-extrabold text-gray-900 mb-6">
    üß† Phase 6: Gensuki Mint & Game Surge (August 2025)
  </h2>

  <p class="text-md md:text-lg text-gray-700 max-w-xl mx-auto mb-4">
    Narrrfs World enters a new era: partner-powered, game-infused, and scroll-logged. Your next adventure is minted on the Gensuki Launchpad! üß†üöÄ
  </p>

  <p class="text-md md:text-lg text-gray-700 max-w-xl mx-auto mb-4">
    Following the success of our VIP collection with its  
<span class="font-bold text-purple-600 underline underline-offset-4 decoration-yellow-400">
  ‚è≥ 10 SOL floor ‚Äî untouched since mint
</span>  
on Magic Eden, we're now partnered with Gensuki for the next phase of the cheese revolution!
  </p>

  <!-- üéØ Current Highlights CTA -->
  <div class="my-12">
    <a href="https://app.gensuki.xyz/Solana/NarrrfsWorldGenesis"
       class="inline-block bg-gradient-to-r from-purple-600 to-red-600 text-white font-extrabold px-8 py-4 rounded-full shadow-xl hover:from-purple-700 hover:to-red-700 transition duration-300 animate-pulse transform hover:scale-105">
      üî• CHECK CURRENT HIGHLIGHTS ‚Üí
    </a>
  </div>

  <!-- üé® Current Phase Preview -->
  <div class="mt-16 bg-purple-50 border-2 border-purple-300 rounded-xl px-6 py-5 shadow-md max-w-2xl mx-auto text-center">
    <h3 class="text-xl font-bold text-purple-800 mb-2">üß† Phase 6 ‚Äî Gensuki Partnership Active!</h3>
    <p class="text-gray-700 text-sm md:text-base mb-4">
      Partnered with Gensuki Launchpad! Quests live, leaderboards reset, and major UI updates rolling out. <strong>WL Mint is LIVE</strong> ‚Äì Check the countdown, follow the crumbles to get on the WL until public starts!
    </p>
    <a href="project-updates.html"
       class="inline-block bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-full shadow-md transition duration-300">
      üì¢ View Full Timeline ‚Üí
    </a>
  </div>
</section>

<!-- ‚úÖ END Promo Section: 2nd Collection + CTA -->

<!-- üß¨ NFT Visual Carousel Promo | From experiment-x.html | Genesis 11.0 -->
<!-- üß¨ NFT Visual Carousel Promo | From experiment-x.html | Genesis 11.0 -->
<!-- üß¨ Narrrf Dual Mode Visual Lab Section -->
<section class="max-w-6xl mx-auto px-6 py-32 text-center z-10 relative">

  <!-- üéõÔ∏è Slider Toggle Controls -->
  <div class="flex justify-center gap-6 mb-10">
    <button onclick="toggleSliderMode('exp')" class="bg-gradient-to-r from-yellow-300 to-yellow-400 hover:from-yellow-400 hover:to-yellow-500 text-black font-bold px-6 py-3 rounded-full shadow-lg transition-all duration-300 border-2 border-yellow-500 hover:border-yellow-600 transform hover:scale-105">
      üß™ Experiment Mode
    </button>
    <button onclick="toggleSliderMode('art')" class="bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 text-white font-bold px-6 py-3 rounded-full shadow-lg transition-all duration-300 border-2 border-purple-400 hover:border-purple-500 transform hover:scale-105">
      üßÄ HDR Cheese Gallery
    </button>
  </div>

  <!-- üéØ Check WL Button -->
  <div class="flex justify-center mb-6">
    <button onclick="checkWLRoleFromIndex()" 
            class="bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-bold px-6 py-3 rounded-full shadow-lg transition-all duration-300 border-2 border-blue-400 hover:border-blue-500 transform hover:scale-105">
      üéØ Check WL Status
    </button>
  </div>
  <div id="wlStatusMessageIndex" class="text-center mb-4 hidden">
    <p class="text-sm text-gray-600 italic">Checking WL status...</p>
  </div>

  <!-- üß™ Carousel Mode -->
  <div id="carousel-zone" class="block">
    <div id="carousel-images" class="overflow-hidden rounded-xl shadow-lg bg-white cursor-grab select-none" style="touch-action: pan-y pinch-zoom;">
      <!-- JS injects 81 carusel images -->
    </div>
    <div class="flex justify-between items-center mt-4">
      <button onclick="showSlide(-1)" class="bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white px-2 py-1 sm:px-4 sm:py-2 md:px-6 md:py-3 rounded-full shadow-lg transition-all duration-300 font-bold border-2 border-pink-400 hover:border-pink-500 transform hover:scale-105 text-xs sm:text-sm md:text-base">‚Üê Previous</button>
      <button onclick="showSlide(1)" class="bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white px-2 py-1 sm:px-4 sm:py-2 md:px-6 md:py-3 rounded-full shadow-lg transition-all duration-300 font-bold border-2 border-purple-400 hover:border-purple-500 transform hover:scale-105 text-xs sm:text-sm md:text-base">Next ‚Üí</button>
    </div>
                        <p class="text-xs text-gray-600 text-center mt-3 font-semibold">üßÄ Swipe left/right or drag to navigate the cheese</p>
  </div>

<!-- üé® HDR IPFS ART GALLERY -->
<div id="art-mode-slider" class="hidden mt-10">
  <!-- üßÄ Gallery Header with Cheese Stats -->
  <div class="text-center mb-8">
    <h3 class="text-3xl md:text-4xl font-extrabold bg-gradient-to-r from-yellow-600 via-pink-600 to-purple-600 bg-clip-text text-transparent mb-2">
      üßÄ Ultra HD Cheese Gallery
    </h3>
    <p class="text-gray-600 text-lg font-semibold">
      <span class="text-yellow-600">151</span> pieces of digital cheese art ‚Ä¢ <span class="text-pink-600">IPFS</span> powered ‚Ä¢ <span class="text-purple-600">4K</span> quality
    </p>
  </div>
  
  <!-- üé® Enhanced Gallery Container -->
  <div id="hdr-grid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6 p-8 justify-center items-start bg-gradient-to-br from-yellow-50 via-pink-50 to-purple-50 rounded-3xl border-4 border-yellow-300 shadow-2xl relative overflow-hidden">
    <!-- üßÄ Animated Background Decorations -->
    <div class="absolute inset-0 bg-[radial-gradient(ellipse_at_top_left,_var(--tw-gradient-stops))] from-yellow-200 via-pink-200 to-transparent opacity-20 animate-pulse pointer-events-none"></div>
    <div class="absolute top-4 right-4 w-16 h-16 bg-yellow-300 rounded-full blur-xl opacity-30 animate-bounce-slow pointer-events-none"></div>
    <div class="absolute bottom-4 left-4 w-12 h-12 bg-pink-300 rounded-full blur-lg opacity-25 animate-bounce-slow pointer-events-none" style="animation-delay: 1s;"></div>
    <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-20 h-20 bg-purple-300 rounded-full blur-2xl opacity-20 animate-bounce-slow pointer-events-none" style="animation-delay: 2s;"></div>
    
    <!-- Images loaded dynamically via JavaScript -->
  </div>
  
  <!-- üßÄ Enhanced Load More Section -->
  <div class="text-center mt-8">
    <div class="bg-gradient-to-r from-yellow-100 to-pink-100 rounded-2xl p-6 border-2 border-yellow-300 shadow-lg">
      <button id="load-more-hdr" onclick="loadMoreHDRImages()" class="bg-gradient-to-r from-yellow-400 to-pink-500 hover:from-yellow-500 hover:to-pink-600 text-white px-10 py-4 rounded-full shadow-xl transition-all duration-300 font-bold text-xl border-4 border-yellow-300 hover:border-yellow-400 transform hover:scale-105 hover:shadow-2xl">
        üßÄ Load More Cheese
      </button>
      <p class="text-gray-600 text-sm mt-3 font-semibold">
        Click to discover more cheesy masterpieces! üé®‚ú®
      </p>
    </div>
  </div>
</div>

<!-- üñºÔ∏è HDR Fullscreen Viewer -->
<div id="hdrFullscreen" class="hidden fixed inset-0 bg-black bg-opacity-95 z-50 flex flex-col items-center justify-center transition-all duration-300 cursor-grab" style="touch-action: pan-x pan-y; -webkit-user-select: none; -webkit-touch-callout: none;">
                              <!-- ‚ùå Exit Button -->
                      <button onclick="closeHDR()" class="absolute top-4 right-4 text-white bg-gradient-to-r from-red-500 to-pink-600 hover:from-red-600 hover:to-pink-700 px-2 py-1 sm:px-3 sm:py-2 md:px-4 md:py-2 lg:px-6 lg:py-3 rounded-full shadow-lg text-xs sm:text-sm md:text-base z-50 transition-all duration-300 font-bold border-2 border-red-400 hover:border-red-500 transform hover:scale-105 min-w-[50px] sm:min-w-[60px] md:min-w-[80px]">
                        üßÄ Exit
                      </button>
                      
                      <!-- üì± Horizontal Mode Button -->
                      <button onclick="forceHorizontalMode()" class="absolute top-4 left-4 text-white bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 px-2 py-1 sm:px-3 sm:py-2 md:px-4 md:py-2 lg:px-6 lg:py-3 rounded-full shadow-lg text-xs sm:text-sm md:text-base z-50 transition-all duration-300 font-bold border-2 border-blue-400 hover:border-blue-500 transform hover:scale-105 min-w-[60px] sm:min-w-[80px] md:min-w-[100px] landscape:hidden">
                        üì± Horizontal
                      </button>

  <!-- üñºÔ∏è Fullscreen Image - Maximized for full screen -->
  <img id="hdrImage" src="" alt="HDR Art" class="w-full h-full object-contain animate-scaleIn" />



  <!-- ‚¨ÖÔ∏è‚û°Ô∏è Navigation Controls -->
  <div class="absolute bottom-4 md:bottom-6 left-1/2 transform -translate-x-1/2 flex flex-col items-center gap-1 md:gap-2">
    <div class="flex gap-2 md:gap-4">
      <button id="hdr-prev-btn" class="bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white px-2 py-1 sm:px-3 sm:py-1.5 md:px-4 md:py-2 lg:px-5 lg:py-2.5 rounded-full shadow-lg transition-all duration-300 text-xs sm:text-sm md:text-base font-bold border-2 border-pink-400 hover:border-pink-500 transform hover:scale-105 min-w-[50px] sm:min-w-[60px] md:min-w-[70px] lg:min-w-[80px] cursor-pointer touch-manipulation landscape:min-w-[60px] landscape:text-sm landscape:px-3 landscape:py-1.5">‚Üê Prev</button>
      <button id="hdr-next-btn" class="bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white px-2 py-1 sm:px-3 sm:py-1.5 md:px-4 md:py-2 lg:px-5 lg:py-2.5 rounded-full shadow-lg transition-all duration-300 text-xs sm:text-sm md:text-base font-bold border-2 border-purple-400 hover:border-purple-500 transform hover:scale-105 min-w-[50px] sm:min-w-[60px] md:min-w-[70px] lg:min-w-[80px] cursor-pointer touch-manipulation landscape:min-w-[60px] landscape:text-sm landscape:px-3 landscape:py-1.5">Next ‚Üí</button>
    </div>
    <p class="text-xs md:text-sm text-gray-500 text-center font-semibold landscape:text-xs landscape:opacity-75">üßÄ Swipe left/right or drag to navigate ‚Ä¢ ESC to close</p>
  </div>
</div>


  <!-- üåç What is Narrrf's World -->
<section class="bg-gradient-to-br from-yellow-50 via-pink-50 to-purple-50 py-32 px-6 relative overflow-hidden">
  <!-- üßÄ Animated Background Decorations -->
  <div class="absolute inset-0 bg-[radial-gradient(ellipse_at_top_right,_var(--tw-gradient-stops))] from-yellow-200 via-pink-200 to-transparent opacity-15 animate-pulse pointer-events-none"></div>
  <div class="absolute top-10 left-10 w-20 h-20 bg-yellow-300 rounded-full blur-xl opacity-20 animate-bounce-slow pointer-events-none"></div>
  <div class="absolute bottom-10 right-10 w-16 h-16 bg-pink-300 rounded-full blur-lg opacity-25 animate-bounce-slow pointer-events-none" style="animation-delay: 1s;"></div>
  
  <div class="max-w-4xl mx-auto relative z-10">
    <!-- üßÄ Enhanced Header -->
    <div class="text-center mb-12">
      <h2 class="text-4xl md:text-5xl font-extrabold bg-gradient-to-r from-yellow-600 via-pink-600 to-purple-600 bg-clip-text text-transparent mb-4">
        üß† What is Narrrf's World?
      </h2>
      <p class="text-lg md:text-xl text-gray-700 font-semibold max-w-2xl mx-auto leading-relaxed">
        A reimagined <span class="text-pink-600 font-bold">Pinky-and-the-Brain</span> styled NFT world ‚Äî wild, smart, and slightly chaotic genius. 
        Collect NFTs, earn tokens, play games, own land, and stake your way to the top.
      </p>
    </div>

    <!-- üßÄ Enhanced Feature Grid -->
    <div class="grid md:grid-cols-2 gap-8">
      <div class="bg-gradient-to-br from-pink-100 to-pink-200 p-6 rounded-3xl shadow-xl border-2 border-pink-300 hover:scale-105 transition-all duration-300 transform">
        <div class="flex items-center mb-4">
          <div class="text-3xl mr-4">üé¥</div>
          <h3 class="text-2xl font-bold text-pink-800">Collect NFTs</h3>
        </div>
        <p class="text-pink-700 font-semibold">3,333 unique characters with traits, roles, and powers.</p>
      </div>
      
      <div class="bg-gradient-to-br from-yellow-100 to-yellow-200 p-6 rounded-3xl shadow-xl border-2 border-yellow-300 hover:scale-105 transition-all duration-300 transform">
        <div class="flex items-center mb-4">
          <div class="text-3xl mr-4">ü™ô</div>
          <h3 class="text-2xl font-bold text-yellow-800">Earn & Stake $SPOINC</h3>
        </div>
        <p class="text-yellow-700 font-semibold">Freeze NFTs, earn $SPOINC, swap for $DSPOINC, and unlock rewards.</p>
      </div>
      
      <div class="bg-gradient-to-br from-blue-100 to-blue-200 p-6 rounded-3xl shadow-xl border-2 border-blue-300 hover:scale-105 transition-all duration-300 transform">
        <div class="flex items-center mb-4">
          <div class="text-3xl mr-4">üÉè</div>
          <h3 class="text-2xl font-bold text-blue-800">Play Poker</h3>
        </div>
        <p class="text-blue-700 font-semibold">Weekly ClubGG tournaments and VIP poker events.</p>
      </div>
      
      <div class="bg-gradient-to-br from-green-100 to-green-200 p-6 rounded-3xl shadow-xl border-2 border-green-300 hover:scale-105 transition-all duration-300 transform">
        <div class="flex items-center mb-4">
          <div class="text-3xl mr-4">üåç</div>
          <h3 class="text-2xl font-bold text-green-800">Build Hytopia</h3>
        </div>
        <p class="text-green-700 font-semibold">Own land, level up, and participate in the Web3 metaverse narrative.</p>
      </div>
    </div>
  </div>
</section>

<!-- üó∫Ô∏è Roadmap Section: The Takeover Plan -->

<section id="roadmap" class="relative bg-gradient-to-b from-purple-100 to-white py-24 px-6">

  <!-- üîç Dev Note: Cheese eggs are now moved outside this section for whole page coverage -->

  <!-- üß≠ Real Roadmap Content -->
  <div class="max-w-5xl mx-auto z-10 relative">
    <h2 class="text-3xl md:text-4xl font-bold mb-12 text-center">üó∫Ô∏è Roadmap: The Takeover Plan</h2>
    <div class="space-y-12">
      <div class="border-l-4 border-pink-500 pl-6">
        <h3 class="text-xl font-bold mb-1">üìÖ 2024 ‚Äì Foundation</h3>
        <p>ClubGG launched, community roles, early collabs with CryptoCorn, Kaleido, Weedery & more.</p>
      </div>
      <div class="border-l-4 border-yellow-500 pl-6">
        <h3 class="text-xl font-bold mb-1">üìÖ 2025 ‚Äì Scaling Up</h3>
        <p>VIP events, WL mint, staking launch, Benefit Showdowns, plot sales, Hytopia World opens.</p>
      </div>
      <div class="border-l-4 border-blue-500 pl-6">
        <h3 class="text-xl font-bold mb-1">üìÖ 2026 ‚Äì Real-World Utility</h3>
        <p>Contracts solidified, retail integrations, launch of $DSPOINC LP Pool + SWAP portal.</p>
      </div>
      <div class="border-l-4 border-green-500 pl-6">
        <h3 class="text-xl font-bold mb-1">üìÖ 2027 ‚Äì Upgrades & 2nd Collection</h3>
        <p>New gaming partnerships (Atari), second NFT drop, exchange listings, staking expansion.</p>
      </div>
      <div class="border-l-4 border-purple-500 pl-6">
        <h3 class="text-xl font-bold mb-1">üìÖ 2028‚Äì2030 ‚Äì Mass Adoption</h3>
        <p>Full B2B rollout, Hytopia goes live, VIP World Events, and Narrrf's World becomes a Web3-powered company.</p>
      </div>
    </div>
  </div>
</section>




<!-- üëΩ FINAL CHEESE EASTER EGG SCROLL ‚Äì GENESIS 9 -->
<section class="relative bg-yellow-50 py-20 px-6 mt-16 rounded-2xl shadow-xl max-w-3xl mx-auto overflow-hidden ring-2 ring-lime-400 border border-lime-300 animate-pulse hover:scale-[1.015] transition duration-300">
  <img src="img/alien-grid-fade.png" alt="Alien Grid" class="absolute inset-0 w-full h-full object-cover opacity-10 pointer-events-none z-0" />
  <div class="relative text-center text-purple-900 z-10">
    <h2 class="text-3xl font-extrabold text-lime-600 drop-shadow-glow mb-4 animate-glow">
      üß™ Final Cheese Unlocked!
    </h2>
    <p class="text-base text-purple-800 max-w-md mx-auto leading-relaxed">
      This scroll remained unclicked for over <strong class="text-yellow-700">60 days</strong>...<br>
      Hidden behind the jumping cheese.<br>
      <span class="font-semibold text-yellow-900">You're now part of a very small club üß†.</span>
    </p>
    <a href="/finances.html" class="inline-block mt-6 px-8 py-3 bg-lime-400 text-black font-extrabold rounded-full shadow-xl hover:bg-lime-500 ring-4 ring-lime-300 animate-pulse-glow transition duration-300">
      üåå Unlock Narrrf's Finances Now
    </a>
  </div>
</section>

<!-- ‚ú® Custom Glow Animations -->
<style>
  @keyframes glow {
    0% { text-shadow: 0 0 4px #a3e635, 0 0 8px #bef264; }
    50% { text-shadow: 0 0 10px #84cc16, 0 0 20px #bef264; }
    100% { text-shadow: 0 0 4px #a3e635, 0 0 8px #bef264; }
  }

  @keyframes pulse-glow {
    0%, 100% { box-shadow: 0 0 8px #bef264; }
    50% { box-shadow: 0 0 16px #84cc16; }
  }

  .animate-glow {
    animation: glow 2s ease-in-out infinite;
  }

  .animate-pulse-glow {
    animation: pulse-glow 2s ease-in-out infinite;
  }

  .drop-shadow-glow {
    text-shadow: 0 0 8px #a3e635;
  }
</style>


<!-- üéÆ Gameboard Features -->
<section class="bg-white px-6 pt-12 pb-20 mt-16">
  <div class="max-w-4xl mx-auto">
    <h2 class="text-3xl font-bold mb-10 text-center">üéÆ Gameboard Features</h2>
    <div class="grid md:grid-cols-2 gap-6">

      <div class="bg-purple-100 p-6 rounded-2xl shadow">
        <h3 class="text-xl font-bold">üé° Wheel Events</h3>
        <p>Spin-to-win every week! Roles grant bonus slots and better chances to score rewards.</p>
      </div>

      <div class="bg-pink-100 p-6 rounded-2xl shadow">
        <h3 class="text-xl font-bold">üéÅ Weekly Raffles</h3>
        <p>Win NFTs, tokens, merch & mystery items during Friday community drops!</p>
      </div>

      <div class="bg-yellow-100 p-6 rounded-2xl shadow">
        <h3 class="text-xl font-bold">üßÆ $DSPOINC Utility</h3>
        <p class="mb-2">Your reward currency for loyalty, play, and community power.</p>
        <ul class="list-disc list-inside text-sm space-y-1">
          <li>üí∞ Earn by playing poker, joining events, or helping the server</li>
          <li>üéØ Redeem in the Narrrf Shop for NFTs, raffles & VIP upgrades</li>
          <li>‚ôªÔ∏è Convert 10,000 $DSPOINC ‚Üí 1 $SPOINC via staking portal</li>
          <li>üèÜ Climb our mission ranks and unlock exclusive perks</li>
          <li>üé° Use for bonus spins, wheel entries, and giveaway boosts</li>
        </ul>
      </div>

      <div class="bg-blue-100 p-6 rounded-2xl shadow">
        <h3 class="text-xl font-bold">‚ô£Ô∏è Poker Showdowns</h3>
        <p>Join VIP ClubGG matches. Winner-take-all tournaments, qualifiers & TOC entry!</p>
        <a href="https://www.clubgg.com" target="_blank" class="inline-block mt-4 bg-purple-700 text-white px-4 py-2 rounded-xl shadow hover:bg-purple-800">üé≤ Join ClubGG (ID: 821719)</a>
        <a href="https://www.clubgg.com" target="_blank" class="inline-block mt-2 bg-purple-500 text-white px-4 py-2 rounded-xl shadow hover:bg-purple-600">‚¨áÔ∏è Download Poker Client</a>
      </div>

      <div class="bg-green-100 p-6 rounded-2xl shadow">
        <h3 class="text-xl font-bold">üöÄ Wanted Missions</h3>
        <p>Daily/weekly quests where players hunt, earn, and rise through the Narrrf ranks!</p>
      </div>

      <div class="bg-red-100 p-6 rounded-2xl shadow">
        <h3 class="text-xl font-bold">ü§ù Collab Invites</h3>
        <p>Exclusive event invites through our partnered communities. Show up as Narrrf, get extra perks, and grow your Web3 network.</p>
      </div>

      <div class="bg-indigo-100 p-6 rounded-2xl shadow">
        <h3 class="text-xl font-bold">üîê Alpha Access</h3>
        <p>Get access to our restricted alpha channels where trusted Alpha Callers drop hidden gems: BTC signals, secret mints, game invites, and Web3 event passes.</p>
      </div>

      <div class="bg-rose-100 p-6 rounded-2xl shadow">
        <h3 class="text-xl font-bold">üõ°Ô∏è Partner Channels</h3>
        <p>Holders of partner NFTs gain access to restricted partner chats and promo tabs. A special role grants you visibility and access to exclusive alpha, raffles, and project drops inside each collab's zone.</p>
      </div>

    </div>
  </div>
</section>
  
  <!-- Minting Lab Section -->
<section class="bg-gradient-to-br from-yellow-50 to-pink-100 py-16 px-6">
  <div class="max-w-5xl mx-auto text-center">
    <h2 class="text-3xl font-bold mb-4">üß™ The Minting Lab</h2>
    <p class="mb-8 text-md max-w-2xl mx-auto">
      Step into our NFT minting chamber ‚Äî your entry point to Narrrf's World. Pick your tier, unlock your plot, and let the experiments begin.
    </p>

    <div class="grid md:grid-cols-2 gap-8">
      <div class="bg-white border border-pink-400 rounded-2xl p-6 shadow">
        <h3 class="text-xl font-bold">Mint Tiers</h3>
        <ul class="text-left mt-4 space-y-2">
          <li>üéØ 1‚Äì4 NFTs = Entry Access</li>
          <li>üè† 5‚Äì10 NFTs = Small Plot</li>
          <li>üèòÔ∏è 11‚Äì25 NFTs = Medium Plot</li>
          <li>üèôÔ∏è 26‚Äì50 NFTs = Large Plot</li>
          <li>üèóÔ∏è 50+ NFTs = Custom Shop + API Access</li>
        </ul>
      </div>

      <div class="bg-white border border-purple-400 rounded-2xl p-6 shadow">
        <h3 class="text-xl font-bold">Mint Pricing</h3>
        <ul class="text-left mt-4 space-y-2">
          <li>üîì Whitelist: $25 in SOL</li>
          <li>üåê Public: $50</li>
          <li>üéÅ Redemption: $75</li>
        </ul>
        <a href="mint.html" class="inline-block mt-6 bg-purple-600 text-white px-6 py-2 rounded-xl shadow hover:bg-purple-700">Mint Now</a>
      </div>
    </div>
  </div>
</section>
  
  <!-- Get Roles Banner -->
  <section class="bg-gradient-to-r from-purple-200 to-pink-200 text-center py-8 px-4">
    <h2 class="text-2xl md:text-3xl font-bold mb-2">üéÆ Want to Unlock Roles & Boost Rewards?</h2>
    <p class="text-sm md:text-base mb-4">Earn bonuses, spin with power, and rise through the Narrrf ranks.</p>
    <a href="get-roles.html" class="inline-block bg-purple-700 text-white px-6 py-3 rounded-xl shadow hover:bg-purple-800 transition">
      üß† Learn How to Get Roles
    </a>
  </section>

<!-- üßÄ COMING UP NEXT SECTION ‚Äì GENESIS 11.0 CYCLE (JULY 2025) -->
<!-- üß† Dev Note: Updated for Phase 6 and Gensuki Partnership Launchpad. Mint & events fully synced. -->
<section id="coming-up" class="bg-gradient-to-br from-yellow-50 to-pink-100 py-16 px-6 rounded-t-3xl shadow-inner">
  <div class="max-w-5xl mx-auto text-center">
    <h2 class="text-4xl md:text-5xl font-extrabold text-yellow-600 drop-shadow-sm mb-4">
      üß† Phase 6: Gensuki Mint & Game Surge (August 2025)
    </h2>
    <p class="text-md md:text-lg text-gray-700 max-w-xl mx-auto mb-10">
      Narrrfs World enters a new era: partner-powered, game-infused, and scroll-logged. Your next adventure is minted on the Gensuki Launchpad.
    </p>

    <div class="bg-white border-l-4 border-pink-400 p-6 rounded-xl shadow mb-8 text-left max-w-xl mx-auto transition-transform duration-500 hover:scale-[1.01]">
      <h3 class="text-lg font-semibold mb-2">üî• Current Highlights ‚Äì Genesis 12.0</h3>
      <ul class="list-disc list-inside text-sm space-y-1 text-gray-800">
        <li>ü§ù <strong>Partnered with Gensuki</strong> ‚Äì Our mint will take place on their Launchpad, mid-August!</li>
        <li>üé≤ <strong>Golden Baboons Bingo Night</strong> returns ‚Äì August 28, 2025. Prizes and lore for every mouse.</li>
        <li>üèÜ <strong>Quests now live</strong> ‚Äì Earn rewards, chase badges, and explore new puzzles.</li>
        <li>üéÆ <strong>Tetris & Snake Leaderboards RESET</strong> ‚Äì Can you claim the #1 spot this season?</li>
        <li>üñ•Ô∏è <strong>Major UI + Game Updates</strong> ‚Äì Fresh visuals, new zones, and more cheese coming soon.</li>
        <li>üßÄ <strong>WL Mint is LIVE</strong> ‚Äì Check the countdown, follow the crumbles to get on the WL until public starts!</li>
      </ul>
      <p class="mt-4 text-xs italic text-gray-500">
        All scrolls are synced. Mutation is not only allowed ‚Äî it's destiny.
      </p>
    </div>

    <div class="bg-white border-l-4 border-yellow-400 p-6 rounded-xl shadow mb-8">
      <h2 class="text-xl font-semibold">üì£ August 28th ‚Äì Golden Baboons Bingo Night</h2>
      <ul class="list-disc list-inside mt-2 text-sm">
        <li>üé≤ Join us for our monthly Bingo Night event with special prizes</li>
        <li>üß¨ Win exclusive rewards and cheese-powered lore</li>
        <li>üí• Community fun and the return of the Golden Baboons!</li>
      </ul>
    </div>

    <div class="bg-white border-l-4 border-indigo-400 p-6 rounded-xl shadow mb-8">
      <h2 class="text-xl font-semibold">üó£Ô∏è Weekly Gensuki Team Spaces</h2>
      <ul class="list-disc list-inside mt-2 text-sm">
        <li>üìÖ Every Tuesday ‚Äì Join the Gensuki team for weekly spaces</li>
        <li>üé® Updates, announcements, and community discussions</li>
        <li>üß† Stay connected with the latest developments and partnerships</li>
      </ul>
    </div>

    <div class="bg-white border-l-4 border-green-400 p-6 rounded-xl shadow mb-8">
      <h2 class="text-xl font-semibold">üéÅ Benefit Season 1 Coming Soon</h2>
      <ul class="list-disc list-inside mt-2 text-sm">
        <li>üåü Exclusive benefits for holders starting soon</li>
        <li>üéØ Special rewards and perks for the community</li>
        <li>üöÄ Get ready for the next phase of Narrrf's World</li>
      </ul>
    </div>

    <div class="bg-white border-l-4 border-blue-400 p-6 rounded-xl shadow mb-8">
      <h2 class="text-xl font-semibold">üéÆ Quests, Games & New Zones</h2>
      <ul class="list-disc list-inside mt-2 text-sm">
        <li>üß© Quests now live with new rewards</li>
        <li>üèÜ Tetris & Snake leaderboards reset for August ‚Äì will you take the top?</li>
        <li>üåü Game and UI updates rolling out all month</li>
      </ul>
    </div>

    <p class="mt-4 text-xs italic text-yellow-700">
      "A mouse with a quest is never lost. Scrolls mutate, partners rise. The cheese glows anew."
    </p>
  </div>
</section>


<!-- üßÄ ULTIMATE CHEESE GAMING PORTAL -->
<section id="tetris-login-portal" class="relative bg-gradient-to-br from-yellow-100 via-orange-100 to-pink-100 text-black py-16 px-8 rounded-3xl shadow-2xl max-w-2xl mx-auto mt-24 text-center border-4 border-yellow-400 overflow-hidden">
  <!-- üßÄ Animated Background Decorations -->
  <div class="absolute inset-0 pointer-events-none">
    <div class="absolute top-4 left-4 w-16 h-16 bg-yellow-300 rounded-full blur-lg opacity-40 animate-bounce"></div>
    <div class="absolute bottom-4 right-4 w-12 h-12 bg-orange-300 rounded-full blur-md opacity-35 animate-bounce" style="animation-delay: 1s;"></div>
    <div class="absolute top-1/2 left-1/4 w-8 h-8 bg-pink-300 rounded-full blur-sm opacity-30 animate-pulse"></div>
  </div>
  
  <div class="relative z-10">
    <h2 class="text-4xl md:text-5xl font-extrabold mb-6 bg-gradient-to-r from-yellow-600 via-orange-600 to-pink-600 bg-clip-text text-transparent">
      üéÆ Ultimate Cheese Gaming Portal
    </h2>
    <p class="text-lg mb-8 text-gray-700 leading-relaxed">
      Step into the future of cheese gaming! Experience the revolutionary Hytopia ecosystem with full Discord integration and trait-based gameplay.
    </p>
    
    <!-- üßÄ Portal Glow Effect -->
    <div class="relative inline-block mb-8">
      <img src="img/cheese-portal.png" alt="Cheese Portal" class="w-24 h-24 animate-pulse">
      <div class="absolute inset-0 w-24 h-24 bg-yellow-300 rounded-full blur-xl opacity-40 animate-pulse"></div>
    </div>
    
    <a href="/hytopia.html" class="inline-block bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-400 hover:from-yellow-500 hover:via-orange-500 hover:to-pink-500 text-black py-4 px-12 rounded-full shadow-2xl border-4 border-yellow-300 hover:border-yellow-400 transition-all duration-300 transform hover:scale-105 text-xl font-bold">
      üöÄ Enter the Cheese Gaming Universe
    </a>
    
    <p class="text-sm mt-6 text-gray-600 italic">
      üßÄ Sync your Discord roles ‚Ä¢ Unlock exclusive cheese powers ‚Ä¢ Experience the future of gaming
    </p>
  </div>
</section>


<!-- üßÄ Footer removed - consolidated into single footer below -->

<!-- ‚úÖ Wallet Connect & Avatar -->
<script src="js/wallet.js"></script>

<!-- 
  üß™ CHEESE EGG ENGINE: NARRRF CORE MODULE v1.4
  ============================================
  üîß Engine Purpose:
    - Animate cheese eggs within the #roadmap container.
    - Randomly reposition eggs every 4‚Äì8 seconds using DOM-safe logic.
    - Track user interaction using wallet address + egg ID.
    - Unlock VIP interactions via Discord role detection.

  üì¶ Backend Integration:
    - POST `/api/track-egg-click` ‚Üí tbl_cheese_clicks (wallet, egg_id, timestamp)
    - GET `/api/user/roles.php` ‚Üí triggers frontend trait gates

  üß† Developer Notes:
    - Each egg ID must be listed in `eggIds` array.
    - Eggs must be children of `#roadmap` (class="relative") and have `class="absolute"`.
    - Positioning uses JavaScript only (no inline left/top styles in HTML).
    - Extend by adding new IDs to the array.

  üîÆ Future Expansion:
    - Trait-locked eggs, scroll-aware riddle unlocking, leaderboard-tracked clicks.
    - Use wallet+Discord join to gate narrative triggers.

  üìÅ See `/style.html` for visual positioning helpers.
-->
<script>
  // Config
  // const eggIds = ['cheese-egg', 'cheese-egg-finance', 'cheese-egg-blue']; // Extendable - REMOVED: This was causing conflicts

  /**
   * üéØ moveEgg
   * Moves a cheese egg to a random position inside a container.
   * @param {string} id - Egg element ID
   * @param {string} parentId - Parent container ID
   */
  // REMOVED: This function was causing conflicts with the enhanced cheese engine above
  // The enhanced moveEgg function is now used instead

  /**
   * üß† Main Cheese Logic
   * On page load: move each egg & bind interaction tracking
   */
  // REMOVED: This duplicate section was conflicting with the enhanced cheese engine above
  // The enhanced cheese engine handles all movement and click tracking properly
</script>
<!-- ‚úÖ End Enhanced Cheese Engine v2.0 -->

<!-- üß¨ VIP ROLE GATE LOGIC ‚Äî UNLOCK HIDDEN CONTENT BASED ON DISCORD ROLES -->
<script>
  document.addEventListener("DOMContentLoaded", async () => {
    try {
      const res = await fetch('https://narrrfs.world/api/user/roles.php');
      if (!res.ok) {
        console.warn("üîê Role check skipped ‚Äî user not authorized");
        return;
      }

      const data = await res.json();
      const roles = data.roles || [];

      const gate = document.getElementById('goldenCheeseGate');
      const joke = document.getElementById('noCheeseJoke');

      if (roles.includes("VIP Holder") || roles.includes("VIP_pass")) {
        if (gate) gate.classList.remove('hidden');
        console.log("%cüßÄ VIP Access: Golden Cheese Unlocked!", "color: gold; font-weight: bold;");
      } else {
        if (joke) joke.classList.remove('hidden');
        console.log("üòÖ Logged in, but VIP role not found.");
      }

    } catch (err) {
      console.error("Role check failed:", err);
    }
  });
</script>

<!-- 
===========================================================
üß† NARRRF'S WORLD ‚Äî GENESIS 12.0 ¬∑ MASTER SYSTEM OVERVIEW
===========================================================

üéÆ Certified Modules (Phase 12.0)
----------------------------------
- üß† Corebrain 12.0 (DOM Sync, Role Logic, Trait Rendering)
- üßÄ Cheese Architect 12.0 (Frontend UI + Mobile DOM Triggers)
- üßí Narrrf (Padawan Tester ‚Äì Scroll ID 1337)
- üëΩ Alien (Session Ghost + Wallet Memory Layer)
- üß¨ SQL_Junior_12.0 (Cheese Click Logging + Score Sync)
- üß© Riddle Brain 12.0 (Trait Puzzle Chains + Unlock Gating)
- üß™ Lab Note Genesis (Traits, Countdown Logic, Egg Zones)

üåç SYSTEM PURPOSE
------------------
Bridge chaotic Web2 interaction with narrative-driven Web3 rewards. 
Built for Discord ID sync, wallet tracking, egg-click logic, and multi-layered DOM states.

===========================================================
üìÅ SYSTEM FILES & STRUCTURE
===========================================================

üìÇ `/public/index.html`
- üéØ Main landing zone for Narrrf's World
- Includes the cheese engine, CTA banners, and dynamic hero
- Connected to: countdown, login, mint zone

üìÇ `/public/profile.html`
- üéÆ Game zone + trait viewer
- Displays $SPOINC score, wallet, quests, Discord roles, NFT logic
- Syncs Tetris/Snake game scores with backend via `save-score.php`

üìÇ `/scripts/tetris-scroll.js`
üìÇ `/scripts/snake-scroll.js`
- Core game logic: score, pause/resume, mobile touch, countdown intro
- Writes score to API with wallet + Discord ID

üìÇ `/api/user/*.php`
- `profile.php`: Loads session wallet, roles, traits
- `roles.php`: Discord-linked roles endpoint
- `download-vip-art.php`: Gated download (VIP only)
- `traits.php`: Returns JSON trait matrix
- `save-score.php`: Saves Tetris/Snake scores

üìÇ `/db/narrrf_world.sqlite`
- Main data source for user traits, roles, scores, quests
  ‚Üí `tbl_cheese_clicks` ‚Üí egg engine log
  ‚Üí `tbl_user_roles` ‚Üí Discord role map
  ‚Üí `tbl_traits_claimed` ‚Üí trait unlock (WIP for 12.1)
  ‚Üí `tbl_user_score_log` ‚Üí stores game session history

üìÇ `/private/vip_hd_art/`
- üé¥ Holds VIP-gated NFT images
- Enforced download only via Discord + Role

===========================================================
üß† CORE SYSTEM MODULES (GENESIS 12.0)
===========================================================

1. üç≥ CHEESE EGG ENGINE (v1.4.1)
   - Randomized egg placement inside `#roadmap`
   - Click handler posts `egg_id` + `wallet` + `timestamp` to backend
   - Supports three floating egg IDs:
     ¬∑ `cheese-egg`
     ¬∑ `cheese-egg-blue`
     ¬∑ `cheese-egg-finance`

2. üîê VIP GATE LOGIC
   - DOM toggles via `VIP_pass` or `VIP Holder` Discord roles
   - Trait-based unlock toggles `download-vip-art.php`
   - Fallback banner with joke if no role detected

3. üß¨ TRAIT SYNC + DOM LOGIC
   - Traits fetched via API
   - Displayed on profile
   - Future: DOM unlocks via trait conditions (eg. `SNAKE_CHEESE_MASTER`)

4. üéÆ TETRIS + SNAKE SCORE ENGINE
   - Both games auto-sync wallet + Discord ID to API
   - Real-time leaderboard rendering from `get-leaderboard.php`
   - Game over = triggers reward + leaderboard load

5. ‚è≥ COUNTDOWN SYSTEM
   - Animated UTC countdown on `mint.html`
   - Styled via Tailwind + pulse
   - Future support for scroll-unseal events

6. üß† RIDDLE BRAIN 12.0
   - Unlock logic in planning
   - Trait combination triggers, timed scrolls, rare unlocks
   - Example: "SNAKE_CHEESE_MASTER" unlocks additional lore path

===========================================================
üì¶ DATABASE TABLES ‚Äî NARRRF SQL LAYER
===========================================================

üî∏ `tbl_cheese_clicks`
  - `user_wallet` TEXT
  - `egg_id` TEXT
  - `timestamp` INTEGER

üî∏ `tbl_user_roles`
  - `user_id` TEXT (Discord)
  - `role_name` TEXT

üî∏ `tbl_traits_claimed`
  - `user_id` TEXT
  - `trait_id` TEXT
  - `timestamp` INTEGER

üî∏ `tbl_user_score_log`
  - `user_id`
  - `score`
  - `game` (snake, tetris)
  - `timestamp`

===========================================================
üß™ DEVELOPER + AI WORKFLOW PROTOCOL
===========================================================

‚úÖ Always check:
  - Mobile egg clicks + sound + random movement
  - Score submits for Tetris/Snake with Discord + Wallet

‚úÖ Traits:
  - Use `traits.php` or `profile.php` to sync
  - Add new traits to `tbl_traits_claimed` + DOM logic

‚úÖ Game DOM Safety:
  - Use `getElementById()` with null check
  - Avoid global variable leaks from game intervals

‚úÖ JS Tips:
  - Use `setInterval`, `clearInterval` safely on pause/resume
  - Use `drop()` only once per loop to avoid flicker bugs
  - Declare audio preload for egg click sounds

===========================================================
üîÆ EXPANSION: GENESIS 12.1 AND BEYOND
===========================================================

ü™ô Score Swap + On-chain Sync  
üìú Scroll Unseal Events (via traits)  
üß¨ DNA Trait Mutation Lab  
üßÄ Cheese Dungeon: map logic + fog reveal  
üßä Puzzle Bridge: Riddle + Bingo unlock  
üé¥ NFT Reward integration + trait fusion  
üß† AI-compatible LLM protocol sync

===========================================================
‚úÖ CERTIFIED: NARRRF ENGINE ¬∑ STATUS: ACTIVE
üß† Last Updated: 2025-07-24 ¬∑ GENESIS 12.0 LIVE
===========================================================
-->


<!-- ======================================== -->
<!-- üß† HTML Brain 12.0 Footer Lab Declaration -->
<!-- ======================================== -->


  <!-- üåÄ Cheese Portal to Hytopia -->
<section id="hytopia-portal" class="mt-16 px-6">
  <div class="max-w-xl mx-auto text-center">
    <a href="/hytopia.html" class="group inline-block relative" title="üßÄ Hytopia portal is closed... for now.">
      <div class="relative p-4 rounded-full bg-yellow-300/90 hover:bg-yellow-400 transition-all duration-300 shadow-2xl animate-pulse">
        <img src="img/cheese-portal.png" alt="Enter Hytopia" class="w-24 h-24 sm:w-32 sm:h-32 mx-auto group-hover:scale-105 transition-transform duration-300 drop-shadow-lg" />
        <div class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300">
          <div class="text-xs bg-black/80 text-yellow-300 px-3 py-1 rounded-full shadow-md animate-pulse">
            üßÄ Portal Closed ¬∑ Opening Soon!
          </div>
        </div>
      </div>
      <p class="mt-3 text-base font-bold text-yellow-800 group-hover:text-yellow-900">
        ‚ú® Step Toward Hytopia
      </p>
    </a>
  </div>
</section>

<!-- üç© Footer GENESIS 12.0 - Enhanced Cheese Universe Footer -->
<footer class="text-center mt-16 mb-10">
  <!-- Back to Top Link -->
  <div class="mb-6">
    <a href="#top" class="text-sm text-gray-500 hover:text-pink-500 transition-colors duration-200">
      üîù Back to Top
    </a>
  </div>
  
  <!-- üßÄ Narrrf's Cheese Universe Section -->
  <div class="mb-8 p-6 bg-gradient-to-r from-yellow-100/50 to-orange-100/50 rounded-xl border border-yellow-300/30">
    <div class="text-lg font-bold text-yellow-800 mb-4">
      üßÄ Narrrf's Cheese Universe
    </div>
    <div class="text-sm text-yellow-700 mb-6">
      Where gaming meets cheese innovation
    </div>
    
    <!-- Quick Links -->
    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
      <a href="/index.html" class="text-yellow-600 hover:text-yellow-800 transition-colors duration-200 font-medium">
        üè† Home
      </a>
      <a href="/whitepaper-pro.html" class="text-yellow-600 hover:text-yellow-800 transition-colors duration-200 font-medium">
        üìú Read the Whitepaper
      </a>
      <a href="/mint.html" class="text-yellow-600 hover:text-yellow-800 transition-colors duration-200 font-medium">
        üé® Mint Your NFT
      </a>
      <a href="/profile.html" class="text-yellow-600 hover:text-yellow-800 transition-colors duration-200 font-medium">
        üé≠ Get Roles
      </a>
    </div>
    
    <!-- Socials -->
    <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6">
      <a href="https://x.com/narrrf12345" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:text-blue-800 transition-colors duration-200 font-medium">
        üê¶ Twitter / X
      </a>
                     <a href="https://discord.gg/CR5mYu49" target="_blank" rel="noopener noreferrer" class="text-indigo-600 hover:text-indigo-800 transition-colors duration-200 font-medium">
                 üéÆ Join Discord
               </a>
      <a href="https://www.clubgg.com/" target="_blank" rel="noopener noreferrer" class="text-green-600 hover:text-green-800 transition-colors duration-200 font-medium">
        üÉè Poker ClubGG
      </a>
                     <a href="https://discord.gg/CR5mYu49" target="_blank" rel="noopener noreferrer" class="text-purple-600 hover:text-purple-800 transition-colors duration-200 font-medium">
                 üìß Open a Ticket
               </a>
    </div>
    
    <!-- Contact & Location -->
    <div class="text-xs text-yellow-600/80 mb-4">
      üåç Web3 Only ‚Äì Austria Based
    </div>
  </div>
  
  <!-- Legal & Important Links - More Prominent -->
  <div class="mb-6 p-4 bg-gradient-to-r from-blue-50/50 to-indigo-50/50 rounded-lg border border-blue-200/30">
    <div class="text-sm font-semibold text-blue-800 mb-3">
      üìã Important Legal & Support Links
    </div>
    <div class="flex flex-wrap justify-center gap-6 text-sm">
      <a href="/privacy-policy.html" class="text-blue-600 hover:text-blue-800 transition-colors duration-200 font-medium px-3 py-2 bg-white/70 rounded-lg border border-blue-200/50 hover:bg-white hover:shadow-md">
        üç™ Privacy Policy
      </a>
      <a href="/faq.html" class="text-blue-600 hover:text-blue-800 transition-colors duration-200 font-medium px-3 py-2 bg-white/70 rounded-lg border border-blue-200/50 hover:bg-white hover:shadow-md">
        ‚ùì FAQ
      </a>
      <a href="/profile.html" class="text-blue-600 hover:text-blue-800 transition-colors duration-200 font-medium px-3 py-2 bg-white/70 rounded-lg border border-blue-200/50 hover:bg-white hover:shadow-md">
        üë§ Profile
      </a>
    </div>
  </div>
  
  <!-- Copyright & Branding -->
  <div class="pt-6 border-t border-yellow-600/30 text-xs text-yellow-600/80">
    <div class="mb-2">
      ¬© 2025 Narrrf's World. Built with brain & cheese üß†üßÄ
    </div>
    <div class="text-yellow-500/70">
      üöÄ Powered by the ultimate cheese gaming technology
    </div>
  </div>
</footer>
<noscript>
  <div class="bg-red-100 text-center text-red-600 py-2 font-bold">
    JavaScript is required to experience Narrrf's World. Please enable JS!
  </div>
</noscript>
<script>
  // üß™ Carousel Logic with Swipe Support
  let index = 0;
  let isDragging = false;
  let startX = 0;
  let currentX = 0;
  let dragDistance = 0;
  const SWIPE_THRESHOLD = 50; // Minimum distance for swipe

  function showSlide(step) {
    const slides = document.querySelectorAll(".carousel-slide");
    if (!slides.length) return;
    index = (index + step + slides.length) % slides.length;
    slides.forEach((slide, i) => {
      slide.classList.toggle("hidden", i !== index);
      slide.classList.toggle("block", i === index);
    });
  }

  // üñ±Ô∏è Mouse/Touch Swipe Support
  function initializeSwipeSupport() {
    const carouselContainer = document.getElementById('carousel-images');
    if (!carouselContainer) return;

    // Mouse events for desktop
    carouselContainer.addEventListener('mousedown', handleDragStart);
    carouselContainer.addEventListener('mousemove', handleDragMove);
    carouselContainer.addEventListener('mouseup', handleDragEnd);
    carouselContainer.addEventListener('mouseleave', handleDragEnd);

    // Touch events for mobile
    carouselContainer.addEventListener('touchstart', handleDragStart);
    carouselContainer.addEventListener('touchmove', handleDragMove);
    carouselContainer.addEventListener('touchend', handleDragEnd);

    // Prevent default drag behavior
    carouselContainer.addEventListener('dragstart', (e) => e.preventDefault());
  }

  function handleDragStart(e) {
    isDragging = true;
    startX = e.type === 'mousedown' ? e.clientX : e.touches[0].clientX;
    currentX = startX;
    dragDistance = 0;
    
    const carouselContainer = document.getElementById('carousel-images');
    if (carouselContainer) {
      carouselContainer.style.cursor = 'grabbing';
      carouselContainer.style.userSelect = 'none';
    }
  }

  function handleDragMove(e) {
    if (!isDragging) return;
    
    e.preventDefault();
    currentX = e.type === 'mousemove' ? e.clientX : e.touches[0].clientX;
    dragDistance = currentX - startX;
    
    // Add visual feedback during drag
    const carouselContainer = document.getElementById('carousel-images');
    if (carouselContainer && Math.abs(dragDistance) > 10) {
      carouselContainer.style.transform = `translateX(${dragDistance * 0.1}px)`;
      carouselContainer.style.transition = 'none';
    }
  }

  function handleDragEnd() {
    if (!isDragging) return;
    
    isDragging = false;
    
    const carouselContainer = document.getElementById('carousel-images');
    if (carouselContainer) {
      carouselContainer.style.cursor = 'grab';
      carouselContainer.style.userSelect = 'auto';
      carouselContainer.style.transform = '';
      carouselContainer.style.transition = 'transform 0.3s ease-out';
    }

    // Determine swipe direction and trigger slide change
    if (Math.abs(dragDistance) > SWIPE_THRESHOLD) {
      if (dragDistance > 0) {
        // Swipe right - go to previous slide
        showSlide(-1);
      } else {
        // Swipe left - go to next slide
        showSlide(1);
      }
    }
    
      // Reset drag distance
  dragDistance = 0;
}

// üñ±Ô∏è HDR Swipe Support Functions
function initializeHDRSwipeSupport() {
  const hdrContainer = document.getElementById('hdrFullscreen');
  if (!hdrContainer) return;

  // Mouse events for desktop
  hdrContainer.addEventListener('mousedown', handleHDRDragStart);
  hdrContainer.addEventListener('mousemove', handleHDRDragMove);
  hdrContainer.addEventListener('mouseup', handleHDRDragEnd);
  hdrContainer.addEventListener('mouseleave', handleHDRDragEnd);

  // Touch events for mobile
  hdrContainer.addEventListener('touchstart', handleHDRDragStart);
  hdrContainer.addEventListener('touchmove', handleHDRDragMove);
  hdrContainer.addEventListener('touchend', handleHDRDragEnd);

  // Prevent default drag behavior
  hdrContainer.addEventListener('dragstart', (e) => e.preventDefault());
}

function removeHDRSwipeSupport() {
  const hdrContainer = document.getElementById('hdrFullscreen');
  if (!hdrContainer) return;

  // Remove mouse events
  hdrContainer.removeEventListener('mousedown', handleHDRDragStart);
  hdrContainer.removeEventListener('mousemove', handleHDRDragMove);
  hdrContainer.removeEventListener('mouseup', handleHDRDragEnd);
  hdrContainer.removeEventListener('mouseleave', handleHDRDragEnd);

  // Remove touch events
  hdrContainer.removeEventListener('touchstart', handleHDRDragStart);
  hdrContainer.removeEventListener('touchmove', handleHDRDragMove);
  hdrContainer.removeEventListener('touchend', handleHDRDragEnd);
}

function handleHDRDragStart(e) {
  e.preventDefault(); // Prevent default touch behavior
  isHDRDragging = true;
  hdrStartX = e.type === 'mousedown' ? e.clientX : e.touches[0].clientX;
  hdrCurrentX = hdrStartX;
  hdrDragDistance = 0;

  const hdrContainer = document.getElementById('hdrFullscreen');
  if (hdrContainer) {
    hdrContainer.style.cursor = 'grabbing';
    hdrContainer.style.userSelect = 'none';
  }
}

function handleHDRDragMove(e) {
  if (!isHDRDragging) return;

  e.preventDefault();
  e.stopPropagation(); // Stop event propagation
  
  const currentX = e.type === 'mousemove' ? e.clientX : e.touches[0].clientX;
  hdrCurrentX = currentX;
  hdrDragDistance = currentX - hdrStartX;

  // Add visual feedback during drag
  const hdrImage = document.getElementById('hdrImage');
  if (hdrImage && Math.abs(hdrDragDistance) > 10) {
    hdrImage.style.transform = `translateX(${hdrDragDistance * 0.1}px)`;
    hdrImage.style.transition = 'none';
  }
}

function handleHDRDragEnd() {
  if (!isHDRDragging) return;

  isHDRDragging = false;

  const hdrContainer = document.getElementById('hdrFullscreen');
  const hdrImage = document.getElementById('hdrImage');
  
  if (hdrContainer) {
    hdrContainer.style.cursor = 'grab';
    hdrContainer.style.userSelect = 'auto';
  }
  
  if (hdrImage) {
    hdrImage.style.transform = '';
    hdrImage.style.transition = 'transform 0.3s ease-out';
  }

  // Determine swipe direction and trigger HDR navigation
  if (Math.abs(hdrDragDistance) > HDR_SWIPE_THRESHOLD) {
    if (hdrDragDistance > 0) {
      // Swipe right - go to previous HDR image
      navigateHDR(-1);
    } else {
      // Swipe left - go to next HDR image
      navigateHDR(1);
    }
  }

  // Reset drag distance
  hdrDragDistance = 0;
}

  // üé® HDR Fullscreen Logic
  let currentHDRIndex = 0;
  
  // üñ±Ô∏è HDR Swipe Support Variables
  let isHDRDragging = false;
  let hdrStartX = 0;
  let hdrCurrentX = 0;
  let hdrDragDistance = 0;
  const HDR_SWIPE_THRESHOLD = 50; // Minimum distance for HDR swipe

  function openHDR(figureEl) {
    const full = document.getElementById('hdrFullscreen');
    const hdrImage = document.getElementById('hdrImage');
    if (!figureEl || !hdrImage || !full) return;

    const index = parseInt(figureEl.dataset.index || "0", 10);
    currentHDRIndex = index;

    const img = figureEl.querySelector('img');
    if (!img || !img.src) return;

    hdrImage.src = img.src;
    full.classList.remove('hidden');
    full.classList.add('flex');
    document.body.classList.add('overflow-hidden');
    document.body.classList.add('hdr-mode'); // Add HDR mode class when actually viewing HDR
    
    // Show status bar when opening HDR viewer
    showStatusBar();
    
    // Show initial bandwidth warning for HDR viewer
    showHDRWelcomeMessage();
    
    // Initialize HDR swipe support
    initializeHDRSwipeSupport();
    
    // Lock orientation to landscape when opening HDR viewer on mobile
    if (window.innerWidth <= 768 && screen.orientation && screen.orientation.lock) {
      try {
        screen.orientation.lock('landscape').then(() => {
          console.log('Screen locked to landscape mode for HDR viewing');
        }).catch((error) => {
          console.log('Could not lock orientation:', error);
        });
      } catch (error) {
        console.log('Orientation lock not supported:', error);
      }
    }
  }

  // Add this function to enable closing HDR fullscreen
  function closeHDR() {
    const full = document.getElementById('hdrFullscreen');
    if (full) {
      full.classList.add('hidden');
      full.classList.remove('flex');
    }
    document.body.classList.remove('overflow-hidden');
    document.body.classList.remove('hdr-mode'); // Remove HDR mode class when closing HDR
    
    // Hide status bar when closing HDR viewer
    hideStatusBar();
    
    // Remove HDR swipe event listeners
    removeHDRSwipeSupport();
    
    // Unlock orientation when closing HDR viewer
    if (screen.orientation && screen.orientation.unlock) {
      try {
        screen.orientation.unlock();
        console.log('Screen orientation unlocked');
      } catch (error) {
        console.log('Could not unlock orientation:', error);
      }
    }
  }

  function navigateHDR(step) {
    const figures = document.querySelectorAll('#hdr-grid figure');
    if (!figures.length) return;

    console.log('HDR navigation: Starting with currentHDRIndex =', currentHDRIndex, 'step =', step, 'figures.length =', figures.length);
    
    const newIndex = currentHDRIndex + step;
    console.log('HDR navigation: newIndex =', newIndex);
    
    // If trying to navigate beyond loaded images, load more
    if (newIndex >= figures.length && newIndex < TOTAL_HDR_IMAGES) {
      console.log('HDR navigation: Loading more images...');
      loadMoreHDRImages();
      // Wait a bit for images to load, then try again
      setTimeout(() => {
        navigateHDR(step);
      }, 500);
      return;
    }
    
    // Handle wrapping around
    if (newIndex < 0) {
      currentHDRIndex = figures.length - 1;
      console.log('HDR navigation: Wrapped to end, new currentHDRIndex =', currentHDRIndex);
    } else if (newIndex >= figures.length) {
      currentHDRIndex = 0;
      console.log('HDR navigation: Wrapped to beginning, new currentHDRIndex =', currentHDRIndex);
    } else {
      currentHDRIndex = newIndex;
      console.log('HDR navigation: Normal navigation, new currentHDRIndex =', currentHDRIndex);
    }
    
    // Get the target figure by array index (since they're loaded in order)
    const targetFigure = figures[currentHDRIndex];
    
    if (targetFigure) {
      // Check if HDR viewer is open
      const hdrFullscreen = document.getElementById('hdrFullscreen');
      const hdrImage = document.getElementById('hdrImage');
      const img = targetFigure.querySelector('img');
      
      if (hdrFullscreen && !hdrFullscreen.classList.contains('hidden') && hdrImage && img && img.src) {
        // Update the HDR image directly
        hdrImage.src = img.src;
        console.log('HDR navigation: Updated image to', img.src);
      } else {
        // If HDR viewer is not open, open it with the target figure
        openHDR(targetFigure);
        console.log('HDR navigation: Opened HDR viewer with figure', currentHDRIndex);
      }
    } else {
      console.log('HDR navigation: No target figure found!');
    }
    
    console.log('HDR navigation: Current index is now', currentHDRIndex, 'out of', figures.length, 'loaded figures');
  }

  document.addEventListener("keydown", (e) => {
    const isOpen = !document.getElementById('hdrFullscreen').classList.contains('hidden');
    if (!isOpen) return;
    if (e.key === "Escape") closeHDR();
    if (e.key === "ArrowRight") navigateHDR(1);
    if (e.key === "ArrowLeft") navigateHDR(-1);
  });

  // üéõÔ∏è Mode Switching
  function toggleSliderMode(mode) {
    const exp = document.getElementById('carousel-zone');
    const art = document.getElementById('art-mode-slider');

    if (!exp || !art) return;

    if (mode === 'exp') {
      exp.style.display = 'block';
      art.style.display = 'none';
      closeHDR();
      document.body.classList.remove('hdr-mode'); // Remove HDR mode class
      hideStatusBar(); // Hide status bar when switching to experiment mode
    } else {
      exp.style.display = 'none';
      art.style.display = 'block';
      // Don't add hdr-mode class here - only add when actually viewing HDR images
      // document.body.classList.add('hdr-mode'); // Add HDR mode class
      // Don't automatically open first image - let user choose
    }
  }

  // üéØ Check WL Role from Index Page
  async function checkWLRoleFromIndex() {
    const statusMessage = document.getElementById('wlStatusMessageIndex');
    const checkButton = document.querySelector('button[onclick="checkWLRoleFromIndex()"]');
    
    // Show status message and disable button
    if (statusMessage) {
      statusMessage.querySelector('p').textContent = 'Checking WL status...';
      statusMessage.classList.remove('hidden');
    }
    if (checkButton) {
      checkButton.disabled = true;
      checkButton.textContent = 'üîÑ Checking...';
    }
    
    const userId = localStorage.getItem("discord_id") || "";
    console.log('Checking WL role for user:', userId);
    
    if (!userId) {
      if (statusMessage) {
        statusMessage.querySelector('p').textContent = 'Please login with Discord first';
        statusMessage.querySelector('p').className = 'text-sm text-red-600 italic';
      }
      if (checkButton) {
        checkButton.disabled = false;
        checkButton.textContent = 'üéØ Check WL Status';
      }
      return;
    }

    try {
      const roleRes = await fetch('/api/user/roles.php');
      const roleData = await roleRes.json();
      console.log('Role data received:', roleData);
      
      // Check for WL role by name instead of hardcoded ID
      const hasWLRole = roleData.roles && roleData.roles.some(role => 
        role.toLowerCase().includes('wl') || 
        role.toLowerCase().includes('whitelist') ||
        role === '1332108350518857842' // Keep the original ID as fallback
      );
      
      if (hasWLRole) {
        console.log('User has WL role!');
        if (statusMessage) {
          statusMessage.querySelector('p').textContent = '‚úÖ WL Role found! You can access the mint page.';
          statusMessage.querySelector('p').className = 'text-sm text-green-600 italic';
        }
      } else {
        console.log('User does not have WL role. Available roles:', roleData.roles);
        if (statusMessage) {
          statusMessage.querySelector('p').textContent = '‚ùå WL Role not found. Available roles: ' + (roleData.roles ? roleData.roles.join(', ') : 'None');
          statusMessage.querySelector('p').className = 'text-sm text-red-600 italic';
        }
      }
    } catch (error) {
      console.error('Failed to check WL role:', error);
      if (statusMessage) {
        statusMessage.querySelector('p').textContent = '‚ö†Ô∏è Error checking WL status. Please try again.';
        statusMessage.querySelector('p').className = 'text-sm text-yellow-600 italic';
      }
    }
    
    // Re-enable button
    if (checkButton) {
      checkButton.disabled = false;
      checkButton.textContent = 'üéØ Check WL Status';
    }
  }

  // üß™ Inject carusel images
  window.addEventListener('DOMContentLoaded', () => {
    const container = document.getElementById('carousel-images');
    if (container) {
      for (let i = 1; i <= 81; i++) {
        const img = document.createElement('img');
        img.src = `img/Carusel1 (${i})_small.png`;
        img.className = `carousel-slide ${i === 1 ? 'block' : 'hidden'} w-full`;
        container.appendChild(img);
      }
    }
    showSlide(0);
    
    // Initialize swipe support for the carousel
    initializeSwipeSupport();
    
    // Initialize HDR grid with first 20 images
    initializeHDRGrid();
  });

  // üé® HDR Grid Management
  let hdrImagesLoaded = 0;
  let hdrNextIndex = 0; // Track the next index to load
  const HDR_BATCH_SIZE = window.innerWidth <= 768 ? 8 : 12; // Reduced for better performance
  const TOTAL_HDR_IMAGES = 151;
  let isLoadingHDR = false; // Prevent multiple simultaneous loads
  let loadingProgress = 0; // Track loading progress

  function initializeHDRGrid() {
    const grid = document.getElementById('hdr-grid');
    if (!grid) return;
    
    // Clear the grid first to prevent duplicates
    grid.innerHTML = '';
    
    // Reset loading state
    hdrImagesLoaded = 0;
    hdrNextIndex = 0;
    loadingProgress = 0;
    
    // Don't show status bar initially - only show when in HDR mode
    // showStatusBar();
    
    // Load optimized amount based on device type - reduced for slower connections
    const initialLoad = window.innerWidth <= 768 ? 2 : 5;
    loadHDRImages(0, initialLoad);
  }

  function loadHDRImages(startIndex, count) {
    const grid = document.getElementById('hdr-grid');
    if (!grid || isLoadingHDR) return;

    console.log(`Loading HDR images from ${startIndex} to ${startIndex + count - 1}`);
    isLoadingHDR = true;
    let loadedCount = 0;
    let failedCount = 0;
    const targetCount = Math.min(startIndex + count, TOTAL_HDR_IMAGES);

    // Show loading progress for large batches
    if (count >= 8) {
      showLoadingProgress(startIndex, targetCount);
    }

    for (let i = startIndex; i < targetCount; i++) {
      const figure = document.createElement('figure');
      figure.className = 'rounded-2xl shadow-xl overflow-hidden cursor-pointer hover:scale-110 transition-all duration-500 border-4 border-yellow-300 hover:border-pink-400 bg-gradient-to-br from-yellow-100 via-pink-100 to-purple-100 p-3 relative group';
      figure.setAttribute('data-index', i);
      figure.onclick = () => openHDR(figure);

      // Add animated background decoration
      const decoration = document.createElement('div');
      decoration.className = 'absolute inset-0 bg-gradient-to-br from-yellow-200/20 via-pink-200/20 to-purple-200/20 opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none';
      figure.appendChild(decoration);

      const img = document.createElement('img');
      img.src = `img/HDR/${i}.PNG`;
      img.alt = `HDR Zoom ${i + 1}`;
      img.className = 'object-cover w-full h-auto max-h-[300px] rounded-xl shadow-lg hover:shadow-2xl transition-all duration-300 group-hover:brightness-110 relative z-10';
      img.loading = 'lazy';
      
      // Add timeout for image loading to prevent hanging
      const imgTimeout = setTimeout(() => {
        if (!img.complete) {
          console.warn(`HDR image ${i} loading timeout - skipping`);
          img.onerror();
        }
      }, 30000); // 30 second timeout for large images

      // Add error handling for image loading
      img.onerror = () => {
        clearTimeout(imgTimeout);
        console.warn(`Failed to load HDR image ${i} - skipping`);
        failedCount++;
        // Remove the figure entirely to avoid showing broken images
        figure.remove();
        
        // Check if all images in this batch have been processed
        if (loadedCount + failedCount >= targetCount - startIndex) {
          finishHDRLoading();
        }
      };

      img.onload = () => {
        clearTimeout(imgTimeout);
        loadedCount++;
        loadingProgress = startIndex + loadedCount;
        console.log(`Successfully loaded HDR image ${i} (${loadedCount}/${targetCount - startIndex})`);
        
        // Update progress indicator
        updateLoadingProgress(loadingProgress, targetCount);
        
        // Check if all images in this batch have been processed
        if (loadedCount + failedCount >= targetCount - startIndex) {
          finishHDRLoading();
        }
      };

      const figcaption = document.createElement('figcaption');
      figcaption.className = 'text-sm text-yellow-800 mt-3 text-center font-bold bg-gradient-to-r from-yellow-200 to-pink-200 rounded-full px-4 py-2 mx-auto w-fit border-2 border-yellow-300 shadow-md hover:shadow-lg transition-all duration-300 group-hover:scale-105 relative z-10';
      figcaption.textContent = `üßÄ Click to zoom (${i + 1})`;

      figure.appendChild(img);
      figure.appendChild(figcaption);
      grid.appendChild(figure);
    }

    // Fallback in case no images load
    setTimeout(() => {
      if (isLoadingHDR) {
        console.log('HDR loading timeout - forcing finish');
        finishHDRLoading();
      }
    }, 60000); // 60 second timeout for large image batches
  }

  function finishHDRLoading() {
    isLoadingHDR = false;
    
    // Hide loading progress
    hideLoadingProgress();
    
    // Count actual loaded figures instead of using batch size
    const figures = document.querySelectorAll('#hdr-grid figure');
    hdrImagesLoaded = Math.min(figures.length, TOTAL_HDR_IMAGES);
    hdrNextIndex = hdrImagesLoaded; // Update next index to load
    
    console.log(`HDR loading finished. Loaded ${hdrImagesLoaded} images. Next index: ${hdrNextIndex}`);
    
    // Update status bar
    updateStatusBar();
    
    // Update load more button
    const loadMoreBtn = document.getElementById('load-more-hdr');
    if (loadMoreBtn) {
      if (hdrImagesLoaded >= TOTAL_HDR_IMAGES) {
        loadMoreBtn.style.display = 'none';
        // Hide status bar when complete
        setTimeout(() => hideStatusBar(), 2000);
      } else {
        loadMoreBtn.textContent = `üßÄ Load More Cheese (${hdrImagesLoaded}/${TOTAL_HDR_IMAGES})`;
      }
    }
  }

  function loadMoreHDRImages() {
    if (!isLoadingHDR && hdrNextIndex < TOTAL_HDR_IMAGES) {
      // Optimized loading for better performance - smaller batches for large images
      const remainingImages = TOTAL_HDR_IMAGES - hdrNextIndex;
      const loadAmount = window.innerWidth <= 768 ? Math.min(2, remainingImages) : Math.min(4, remainingImages);
      
      // Show bandwidth warning for large loads
      if (loadAmount >= 4) {
        showBandwidthWarning(loadAmount);
      }
      
      console.log(`Loading more HDR images from index ${hdrNextIndex}, amount: ${loadAmount}`);
      loadHDRImages(hdrNextIndex, loadAmount);
    }
  }

  // üåê Bandwidth Warning Function
  function showBandwidthWarning(imageCount) {
    const warning = document.createElement('div');
    warning.className = 'fixed top-4 left-1/2 transform -translate-x-1/2 bg-orange-500 text-white px-6 py-3 rounded-lg z-[70] text-sm font-bold shadow-lg border-2 border-orange-400 max-w-sm text-center';
    warning.innerHTML = `
      <div class="flex items-center justify-center gap-2 mb-2">
        <span class="text-lg">üåê</span>
        <span>Loading ${imageCount} HD Images</span>
      </div>
      <div class="text-xs opacity-90">
        This may take a moment and use significant bandwidth.<br>
        Please be patient while images load...
      </div>
    `;
    
    document.body.appendChild(warning);
    
    // Auto-remove after 4 seconds
    setTimeout(() => {
      if (warning.parentNode) {
        warning.style.opacity = '0';
        warning.style.transform = 'translate(-50%, -20px)';
        setTimeout(() => warning.remove(), 300);
      }
    }, 4000);
  }

  // üñºÔ∏è HDR Welcome Message Function
  function showHDRWelcomeMessage() {
    const welcome = document.createElement('div');
    welcome.className = 'fixed top-4 left-1/2 transform -translate-x-1/2 bg-blue-500 text-white px-6 py-3 rounded-lg z-[70] text-sm font-bold shadow-lg border-2 border-blue-400 max-w-sm text-center';
    welcome.innerHTML = `
      <div class="flex items-center justify-center gap-2 mb-2">
        <span class="text-lg">üñºÔ∏è</span>
        <span>HDR Viewer Active</span>
      </div>
      <div class="text-xs opacity-90">
        High-quality images may use significant bandwidth.<br>
        Use swipe or buttons to navigate.
      </div>
    `;
    
    document.body.appendChild(welcome);
    
    // Auto-remove after 3 seconds
    setTimeout(() => {
      if (welcome.parentNode) {
        welcome.style.opacity = '0';
        welcome.style.transform = 'translate(-50%, -20px)';
        setTimeout(() => welcome.remove(), 300);
      }
    }, 3000);
  }

  // üì± Force Horizontal Mode Function
  function forceHorizontalMode() {
    console.log('Attempting to force landscape mode...');
    
    if (screen.orientation && screen.orientation.lock) {
      try {
        screen.orientation.lock('landscape').then(() => {
          console.log('‚úÖ Screen locked to landscape mode successfully');
          // Show a brief success message
          const message = document.createElement('div');
          message.className = 'fixed top-4 left-1/2 transform -translate-x-1/2 bg-green-500 text-white px-4 py-2 rounded-lg z-[60] text-sm font-bold';
          message.textContent = 'üì± Landscape mode activated!';
          document.body.appendChild(message);
          setTimeout(() => message.remove(), 2000);
        }).catch((error) => {
          console.log('‚ùå Could not lock orientation:', error);
          // Show error message
          const message = document.createElement('div');
          message.className = 'fixed top-4 left-1/2 transform -translate-x-1/2 bg-red-500 text-white px-4 py-2 rounded-lg z-[60] text-sm font-bold';
          message.textContent = '‚ùå Landscape mode not supported';
          document.body.appendChild(message);
          setTimeout(() => message.remove(), 2000);
        });
      } catch (error) {
        console.log('‚ùå Orientation lock not supported:', error);
        // Show error message
        const message = document.createElement('div');
        message.className = 'fixed top-4 left-1/2 transform -translate-x-1/2 bg-red-500 text-white px-4 py-2 rounded-lg z-[60] text-sm font-bold';
        message.textContent = '‚ùå Landscape mode not supported';
        document.body.appendChild(message);
        setTimeout(() => message.remove(), 2000);
      }
    } else {
      console.log('‚ùå Screen orientation API not supported');
      // Show error message
      const message = document.createElement('div');
      message.className = 'fixed top-4 left-1/2 transform -translate-x-1/2 bg-red-500 text-white px-4 py-2 rounded-lg z-[60] text-sm font-bold';
      message.textContent = '‚ùå Landscape mode not supported';
      document.body.appendChild(message);
      setTimeout(() => message.remove(), 2000);
    }
  }

  // Initialize on DOM load:
  window.addEventListener('DOMContentLoaded', () => showSlide(0));
  
  // üéØ HDR Navigation Button Event Handlers
  function initializeHDRButtons() {
    const prevBtn = document.getElementById('hdr-prev-btn');
    const nextBtn = document.getElementById('hdr-next-btn');
    
    if (prevBtn) {
      // Remove any existing listeners and add new ones
      prevBtn.replaceWith(prevBtn.cloneNode(true));
      const newPrevBtn = document.getElementById('hdr-prev-btn');
      
      // Add multiple event types for better mobile support
      newPrevBtn.addEventListener('click', (e) => {
        e.preventDefault();
        e.stopPropagation();
        console.log('Prev button clicked');
        navigateHDR(-1);
      });
      
      newPrevBtn.addEventListener('touchend', (e) => {
        e.preventDefault();
        e.stopPropagation();
        console.log('Prev button touched');
        navigateHDR(-1);
      });
    }
    
    if (nextBtn) {
      // Remove any existing listeners and add new ones
      nextBtn.replaceWith(nextBtn.cloneNode(true));
      const newNextBtn = document.getElementById('hdr-next-btn');
      
      // Add multiple event types for better mobile support
      newNextBtn.addEventListener('click', (e) => {
        e.preventDefault();
        e.stopPropagation();
        console.log('Next button clicked');
        navigateHDR(1);
      });
      
      newNextBtn.addEventListener('touchend', (e) => {
        e.preventDefault();
        e.stopPropagation();
        console.log('Next button touched');
        navigateHDR(1);
      });
    }
  }
  
  // Initialize HDR buttons when HDR viewer opens
  const originalOpenHDR = openHDR;
  openHDR = function(figure) {
    originalOpenHDR(figure);
    // Initialize buttons after HDR viewer is open
    setTimeout(initializeHDRButtons, 100);
  };

  // üìä Loading Progress Functions
  function showLoadingProgress(startIndex, targetCount) {
    const progress = document.createElement('div');
    progress.id = 'hdr-loading-progress';
    progress.className = 'fixed top-20 left-1/2 transform -translate-x-1/2 bg-blue-600 text-white px-4 py-2 rounded-lg z-[70] text-sm font-bold shadow-lg border-2 border-blue-400';
    progress.innerHTML = `
      <div class="flex items-center gap-2">
        <span>üîÑ</span>
        <span>Loading images... ${startIndex + 1}-${targetCount}</span>
      </div>
    `;
    
    document.body.appendChild(progress);
  }

  function updateLoadingProgress(current, total) {
    const progress = document.getElementById('hdr-loading-progress');
    if (progress) {
      const percentage = Math.round((current / total) * 100);
      progress.innerHTML = `
        <div class="flex items-center gap-2">
          <span>üîÑ</span>
          <span>Loading... ${current}/${total} (${percentage}%)</span>
        </div>
      `;
    }
  }

  function hideLoadingProgress() {
    const progress = document.getElementById('hdr-loading-progress');
    if (progress) {
      progress.style.opacity = '0';
      progress.style.transform = 'translate(-50%, -20px)';
      setTimeout(() => progress.remove(), 300);
    }
  }

  // üìä Smart Status Bar Functions
  function showStatusBar() {
    // First, ensure any existing status bar is removed
    hideStatusBar();
    
    const statusBar = document.createElement('div');
    statusBar.id = 'hdr-status-bar';
    statusBar.className = 'fixed bottom-20 right-4 bg-black/80 text-white px-3 py-2 rounded-full z-[60] text-xs font-bold shadow-lg border border-white/20 backdrop-blur-sm';
    statusBar.innerHTML = `
      <div class="flex items-center gap-2">
        <span class="text-yellow-400">üßÄ</span>
        <span id="hdr-status-text">Loading...</span>
        <div class="w-16 h-1 bg-gray-600 rounded-full overflow-hidden">
          <div id="hdr-status-fill" class="h-full bg-yellow-400 transition-all duration-300" style="width: 0%"></div>
        </div>
      </div>
    `;
    document.body.appendChild(statusBar);
    updateStatusBar();
  }

  function updateStatusBar() {
    const statusBar = document.getElementById('hdr-status-bar');
    const statusText = document.getElementById('hdr-status-text');
    const statusFill = document.getElementById('hdr-status-fill');
    
    if (statusBar && statusText && statusFill) {
      const progress = hdrImagesLoaded;
      const total = TOTAL_HDR_IMAGES;
      const percentage = total > 0 ? Math.round((progress / total) * 100) : 0;
      
      statusText.textContent = `${progress}/${total}`;
      statusFill.style.width = `${percentage}%`;
      
      // Update colors based on progress
      if (percentage >= 100) {
        statusFill.className = 'h-full bg-green-400 transition-all duration-300';
      } else if (percentage >= 50) {
        statusFill.className = 'h-full bg-yellow-400 transition-all duration-300';
      } else {
        statusFill.className = 'h-full bg-orange-400 transition-all duration-300';
      }
    }
  }

  function hideStatusBar() {
    const statusBar = document.getElementById('hdr-status-bar');
    if (statusBar) {
      statusBar.style.opacity = '0';
      statusBar.style.transform = 'translateY(20px)';
      setTimeout(() => {
        if (statusBar.parentNode) {
          statusBar.remove();
        }
      }, 300);
    }
  }

  // üßπ Cleanup function to ensure status bar is hidden on page load
  function cleanupStatusBar() {
    const statusBar = document.getElementById('hdr-status-bar');
    if (statusBar) {
      statusBar.remove();
    }
  }

  // üé¥ NFT Verification Personalization Script
  document.addEventListener('DOMContentLoaded', async function() {
    // üç™ Initialize Cookie Consent Banner
    initializeCookieConsent();
    
    try {
      // Check if user is logged in by trying to fetch profile
      const res = await fetch('https://narrrfs.world/api/user/profile.php', { 
        credentials: 'include',
        headers: { 'Accept': 'application/json' }
      });

      if (res.ok) {
        const user = await res.json();
        if (user.discord_id) {
          // User is logged in - personalize the NFT verification section
          personalizeNFTVerification(user);
        }
      }
    } catch (error) {
      // User not logged in or error - keep default state
      console.log('User not logged in, showing default NFT verification section');
    }
  });

  // üç™ Cookie Consent Management
  function initializeCookieConsent() {
    const banner = document.getElementById('cookie-consent-banner');
    const spacer = document.getElementById('cookie-banner-spacer');
    
    // Check if user has already made a choice
    const cookieChoice = localStorage.getItem('cookie-consent');
    
    if (cookieChoice) {
      // User has already made a choice - hide banner and adjust spacing
      hideCookieBanner();
    } else {
      // Show banner and adjust spacing
      showCookieBanner();
    }
    
    // Add event listeners
    document.getElementById('cookie-accept')?.addEventListener('click', acceptAllCookies);
    document.getElementById('cookie-decline')?.addEventListener('click', declineNonEssentialCookies);
  }
  
  function acceptAllCookies() {
    localStorage.setItem('cookie-consent', 'accepted');
    localStorage.setItem('cookie-preferences', JSON.stringify({
      essential: true,
      analytics: true,
      marketing: true,
      timestamp: new Date().toISOString()
    }));
    
    hideCookieBanner();
    showCookieSuccess('All cookies accepted! üç™');
  }
  
  function declineNonEssentialCookies() {
    localStorage.setItem('cookie-consent', 'declined');
    localStorage.setItem('cookie-preferences', JSON.stringify({
      essential: true,
      analytics: false,
      marketing: false,
      timestamp: new Date().toISOString()
    }));
    
    hideCookieBanner();
    showCookieSuccess('Only essential cookies enabled! üîí');
  }
  
  function hideCookieBanner() {
    const banner = document.getElementById('cookie-consent-banner');
    const spacer = document.getElementById('cookie-banner-spacer');
    
    if (banner) {
      banner.style.transform = 'translateY(-100%)';
      setTimeout(() => {
        banner.style.display = 'none';
        if (spacer) spacer.style.display = 'none';
      }, 500);
    }
  }
  
  function showCookieBanner() {
    const banner = document.getElementById('cookie-consent-banner');
    const spacer = document.getElementById('cookie-banner-spacer');
    
    if (banner) {
      banner.style.display = 'block';
      banner.style.transform = 'translateY(0)';
      if (spacer) spacer.style.display = 'block';
    }
  }
  
  function showCookieSuccess(message) {
    // Create temporary success notification
    const notification = document.createElement('div');
    notification.className = 'fixed top-4 right-4 bg-green-600 text-white px-6 py-3 rounded-lg shadow-lg z-50 animate-fade-in max-w-sm';
    notification.innerHTML = `
      <div class="flex items-center gap-2">
        <span>‚úÖ</span>
        <span>${message}</span>
        <button onclick="this.parentElement.parentElement.remove()" class="ml-auto text-white hover:text-gray-200 text-lg">√ó</button>
      </div>
    `;
    document.body.appendChild(notification);
    
    // Auto-remove after 4 seconds
    setTimeout(() => {
      if (notification.parentElement) {
        notification.remove();
      }
    }, 4000);
  }

  // üé¥ NFT Verification Personalization Function
  function personalizeNFTVerification(user) {
    // Find the NFT verification section
    const nftSection = document.querySelector('section[id="nft-verification"]');
    if (!nftSection) return;

    // Add a personalized welcome banner
    const welcomeBanner = document.createElement('div');
    welcomeBanner.className = 'mb-6 bg-gradient-to-r from-green-600 to-blue-600 rounded-xl p-4 border-2 border-green-400 shadow-lg';
    welcomeBanner.innerHTML = `
      <div class="flex items-center justify-between">
        <div class="flex items-center gap-3">
          <span class="text-2xl">üëã</span>
          <div>
            <h3 class="text-white font-bold">Welcome back, ${user.discord_name || 'Cheese Lord'}!</h3>
            <p class="text-green-100 text-sm">Ready to verify your NFTs and unlock exclusive roles?</p>
          </div>
        </div>
        <a href="/profile.html#nft-verification" 
           class="bg-white text-green-600 hover:bg-green-50 font-semibold px-4 py-2 rounded-lg transition-all duration-300 transform hover:scale-105">
          üîç Go Verify
        </a>
      </div>
    `;

    // Insert the welcome banner at the top of the section
    const sectionContent = nftSection.querySelector('.max-w-4xl');
    if (sectionContent) {
      sectionContent.insertBefore(welcomeBanner, sectionContent.firstChild);
    }

    // Update the main CTA button to be more personalized
    const mainCTA = nftSection.querySelector('a[href="/profile.html#nft-verification"]');
    if (mainCTA) {
      mainCTA.innerHTML = `
        <span class="text-xl">üöÄ</span>
        <span>Continue to Profile & Verify</span>
        <span class="text-sm opacity-80 group-hover:translate-x-1 transition-transform">‚Üí</span>
      `;
      mainCTA.className = mainCTA.className.replace('from-purple-500 to-pink-500', 'from-green-500 to-blue-500');
      mainCTA.className = mainCTA.className.replace('hover:from-purple-600 hover:to-pink-600', 'hover:from-green-600 hover:to-blue-600');
    }
  }

  // üéØ Boundless Collection Tab Switching Function
  function showBoundlessTab(tabName) {
    // Hide all tab contents
    const allContents = document.querySelectorAll('.boundless-tab-content');
    allContents.forEach(content => content.classList.add('hidden'));
    
    // Remove active state from all tab buttons
    const allTabs = document.querySelectorAll('[id^="boundless-tab-"]');
    allTabs.forEach(tab => {
      tab.classList.remove('bg-yellow-400', 'text-black');
      tab.classList.add('bg-gray-300', 'text-gray-700');
    });
    
    // Show selected tab content
    const selectedContent = document.getElementById(`boundless-content-${tabName}`);
    if (selectedContent) {
      selectedContent.classList.remove('hidden');
    }
    
    // Update selected tab button styling
    const selectedTab = document.getElementById(`boundless-tab-${tabName}`);
    if (selectedTab) {
      selectedTab.classList.remove('bg-gray-300', 'text-gray-700');
      selectedTab.classList.add('bg-yellow-400', 'text-black');
    }
  }

  // üç™ Cookie Consent Management
  function initializeCookieConsent() {
    const banner = document.getElementById('cookie-consent-banner');
    const spacer = document.getElementById('cookie-banner-spacer');
    
    // Check if user has already made a choice
    const cookieChoice = localStorage.getItem('cookie-consent');
    
    if (cookieChoice) {
      // User has already made a choice - hide banner and adjust spacing
      hideCookieBanner();
    } else {
      // Show banner and adjust spacing
      showCookieBanner();
    }
    
    // Add event listeners
    document.getElementById('cookie-accept')?.addEventListener('click', acceptAllCookies);
    document.getElementById('cookie-decline')?.addEventListener('click', declineNonEssentialCookies);
  }

  function acceptAllCookies() {
    localStorage.setItem('cookie-consent', 'accepted');
    localStorage.setItem('cookie-preferences', JSON.stringify({
      essential: true,
      analytics: true,
      marketing: true,
      timestamp: new Date().toISOString()
    }));
    
    hideCookieBanner();
    showCookieSuccess('All cookies accepted! üç™');
  }

  function declineNonEssentialCookies() {
    localStorage.setItem('cookie-consent', 'declined');
    localStorage.setItem('cookie-preferences', JSON.stringify({
      essential: true,
      analytics: false,
      marketing: false,
      timestamp: new Date().toISOString()
    }));
    
    hideCookieBanner();
    showCookieSuccess('Only essential cookies enabled! üîí');
  }

  function hideCookieBanner() {
    const banner = document.getElementById('cookie-consent-banner');
    const spacer = document.getElementById('cookie-banner-spacer');
    
    if (banner) {
      banner.style.transform = 'translateY(-100%)';
      setTimeout(() => {
        banner.style.display = 'none';
        if (spacer) spacer.style.display = 'none';
      }, 500);
    }
  }

  function showCookieBanner() {
    const banner = document.getElementById('cookie-consent-banner');
    const spacer = document.getElementById('cookie-banner-spacer');
    
    if (banner) {
      banner.style.display = 'block';
      banner.style.transform = 'translateY(0)';
      if (spacer) spacer.style.display = 'block';
    }
  }

  function showCookieSuccess(message) {
    // Create temporary success notification
    const notification = document.createElement('div');
    notification.className = 'fixed top-4 right-4 bg-green-600 text-white px-6 py-3 rounded-lg shadow-lg z-50 animate-fade-in max-w-sm';
    notification.innerHTML = `
      <div class="flex items-center gap-2">
        <span>‚úÖ</span>
        <span>${message}</span>
        <button onclick="this.parentElement.parentElement.remove()" class="ml-auto text-white hover:text-gray-200 text-lg">√ó</button>
      </div>
    `;
    document.body.appendChild(notification);
    
    // Auto-remove after 4 seconds
    setTimeout(() => {
      if (notification.parentElement) {
        notification.remove();
      }
    }, 4000);
  }

  // Initialize cookie consent when DOM is loaded
  document.addEventListener('DOMContentLoaded', function() {
    initializeCookieConsent();
  });
</script>

<!-- üç™ Cookie Consent Banner - GDPR Compliant -->
<div id="cookie-consent-banner" class="fixed top-0 left-0 right-0 bg-gradient-to-r from-blue-900 via-purple-900 to-indigo-900 text-white p-4 shadow-2xl z-50 border-b-2 border-blue-400 transform transition-transform duration-500 ease-out">
  <div class="max-w-6xl mx-auto flex flex-col md:flex-row items-center justify-between gap-4">
    <div class="flex-1 text-center md:text-left">
      <div class="flex items-center justify-center md:justify-start gap-2 mb-2">
        <span class="text-2xl">üç™</span>
        <h3 class="text-lg font-semibold">Cookie Policy</h3>
      </div>
      <p class="text-sm text-blue-100 leading-relaxed">
        We use cookies and similar technologies to provide you with the best experience on our website. 
        This includes essential cookies for authentication, session management, and website functionality. 
        By clicking "Accept All", you consent to our use of cookies as described in our 
        <a href="/privacy-policy.html" class="text-yellow-300 hover:text-yellow-200 underline font-semibold">Privacy Policy</a>.
      </p>
      <div class="mt-2">
        <a href="/privacy-policy.html" class="text-xs text-blue-200 hover:text-blue-100 underline">
          üìñ Read Full Privacy Policy
        </a>
      </div>
    </div>
    
    <div class="flex flex-col sm:flex-row gap-3 items-center">
      <button id="cookie-decline" 
              class="px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-medium text-sm transition-colors duration-200 border border-gray-500">
        Decline Non-Essential
      </button>
      <button id="cookie-accept" 
              class="px-6 py-2 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white rounded-lg font-semibold text-sm transition-all duration-200 transform hover:scale-105 shadow-lg">
        Accept All Cookies
      </button>
    </div>
  </div>
</div>

<!-- ‚è´ Spacer to offset fixed banner height -->
<div id="cookie-banner-spacer" class="h-24 md:h-20"></div>

<!-- üç© Footer removed - integrated into main footer section above -->
</body>
</html>


